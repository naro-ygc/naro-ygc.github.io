<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta name="referrer" content="no-referrer"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>linuxCpp | naro</title><meta name="author" content="naro-ygc,862450734@qq.com"><meta name="copyright" content="naro-ygc"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="c++">
<meta property="og:type" content="article">
<meta property="og:title" content="linuxCpp">
<meta property="og:url" content="https://naro-ygc.cn/posts/6f1ca842.html">
<meta property="og:site_name" content="naro">
<meta property="og:description" content="c++">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://naro-ygc.cn/img/7_linux%E5%BC%80%E5%8F%91/cpp/linuxCpp/%E5%B0%81%E9%9D%A2.png">
<meta property="article:published_time" content="2025-02-21T19:27:28.683Z">
<meta property="article:modified_time" content="2025-07-02T09:16:06.686Z">
<meta property="article:author" content="naro-ygc">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://naro-ygc.cn/img/7_linux%E5%BC%80%E5%8F%91/cpp/linuxCpp/%E5%B0%81%E9%9D%A2.png"><link rel="shortcut icon" href="/img/log.png"><link rel="canonical" href="https://naro-ygc.cn/posts/6f1ca842.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'linuxCpp',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-02 17:16:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/universe.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/log.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">76</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/7_linux%E5%BC%80%E5%8F%91/cpp/linuxCpp/%E5%B0%81%E9%9D%A2.png')"><nav id="nav"><span id="blog-info"><a href="/" title="naro"><span class="site-name">naro</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">linuxCpp</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-21T19:27:28.683Z" title="发表于 2025-02-22 03:27:28">2025-02-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-02T09:16:06.686Z" title="更新于 2025-07-02 17:16:06">2025-07-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux%E5%BC%80%E5%8F%91/">Linux开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">23.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>100分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="linuxCpp"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1、c-对c的扩展"><a href="#1、c-对c的扩展" class="headerlink" title="1、c++对c的扩展"></a>1、c++对c的扩展</h1><h2 id="1-1、冒号作用域"><a href="#1-1、冒号作用域" class="headerlink" title="1-1、冒号作用域"></a>1-1、冒号作用域</h2><pre><code>:: 运算符是一个作用域,::代表是全局作用域。
</code></pre>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    cout &lt;&lt; a &lt;&lt; endl;<span class="comment">//输出局部变量a</span></span><br><span class="line">    cout &lt;&lt; ::a &lt;&lt; endl;<span class="comment">//输出全局变量a</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">test01</span>();</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-2、名字控制"><a href="#1-2、名字控制" class="headerlink" title="1-2、名字控制"></a>1-2、名字控制</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">namespace</span> A</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;hello namespace &quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">foo</span> <span class="params">( <span class="type">int</span> agr )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">obj</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">A::foo</span> <span class="params">( <span class="type">int</span> arg )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; arg &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//命名空间是可以取别名的</span></span><br><span class="line"><span class="keyword">namespace</span> newA = A;</span><br><span class="line"><span class="keyword">namespace</span> B</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> B</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> c = <span class="number">30</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">namespace</span> C</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">namespace</span> D</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a = <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注意: 如果命名空间没有名字 name这个命名空间内的所有成员都被编译器加上了static修饰,//只能被当前文件调用 这个属于内部链接属性</span></span><br><span class="line"><span class="keyword">namespace</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;hello&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A::<span class="built_in">foo</span> ( <span class="number">222</span> );</span><br><span class="line">    newA::<span class="built_in">foo</span> ( <span class="number">333</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; C::a &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; C::D::a &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; A::a &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; B::a &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; B::b &lt;&lt; endl;</span><br><span class="line">    A::<span class="built_in">fun</span> ( );</span><br><span class="line">    cout &lt;&lt; B::c &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test03</span> ( );</span><br><span class="line">    <span class="built_in">test02</span> ( );</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-3、全局变量检测增强"><a href="#1-3、全局变量检测增强" class="headerlink" title="1-3、全局变量检测增强"></a>1-3、全局变量检测增强</h2><p>c++的编译器对于全局变量的声明和定义有严格的区分,检测会增强              </p>
<p>c语言下的全局变量的声明和定义        </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局变量</span></span><br><span class="line"><span class="type">int</span> a;<span class="comment">//定义</span></span><br><span class="line"><span class="type">int</span> a;<span class="comment">//声明</span></span><br><span class="line"><span class="type">int</span> a;<span class="comment">//声明</span></span><br></pre></td></tr></table></figure>
<p>c++下全局变量声明和定义     </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局变量</span></span><br><span class="line"><span class="type">int</span> a;<span class="comment">//定义</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> a ; <span class="comment">//声明</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> a; <span class="comment">//声明</span></span><br></pre></td></tr></table></figure>
<p>c+++ 定义为如下将报错    </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span> a;</span><br></pre></td></tr></table></figure>

<h2 id="1-4、更严格的类型转换检测"><a href="#1-4、更严格的类型转换检测" class="headerlink" title="1-4、更严格的类型转换检测"></a>1-4、更严格的类型转换检测</h2><p>比如malloc()申请的内存一定要做强转。     </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *p =(<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<h2 id="1-5、struct类型增强"><a href="#1-5、struct类型增强" class="headerlink" title="1-5、struct类型增强"></a>1-5、struct类型增强</h2><p>在c++中使用结构体类型时，可以不写struct关键字，定义的时候要写。</p>
<h2 id="1-6、三目运算符有所不同"><a href="#1-6、三目运算符有所不同" class="headerlink" title="1-6、三目运算符有所不同"></a>1-6、三目运算符有所不同</h2><p>在c++中可以返回变量。而c++常量返回常量    </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test05</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span> ( <span class="string">&quot;%d\n&quot;</span> , a &lt; b ? a : b );</span><br><span class="line">    <span class="comment">//在c语言中三目运算符返回的是表达式的值，是一个常量</span></span><br><span class="line">    <span class="comment">//( a &lt; b ? a : b) = 100; //c++可以正常编译。</span></span><br><span class="line">    *( a &lt; b ? &amp;a : &amp;b ) = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-7、c-c-中const"><a href="#1-7、c-c-中const" class="headerlink" title="1-7、c&#x2F;c++中const"></a>1-7、c&#x2F;c++中const</h2><h3 id="1-7-1、const概述"><a href="#1-7-1、const概述" class="headerlink" title="1-7-1、const概述"></a>1-7-1、const概述</h3><p>const修饰的对象为一个常量。不能被改变。   </p>
<h3 id="1-7-2、c-c-中const的区别"><a href="#1-7-2、c-c-中const的区别" class="headerlink" title="1-7-2、c&#x2F;c++中const的区别"></a>1-7-2、c&#x2F;c++中const的区别</h3><h4 id="1-7-2-1、c语言中的const"><a href="#1-7-2-1、c语言中的const" class="headerlink" title="1-7-2-1、c语言中的const"></a>1-7-2-1、c语言中的const</h4><p>1 const修饰的局部变量,存在栈区,虽然不能通过const修饰的变量去修改栈区内容,但是可以<br>通过地址去修改const修饰的<br>2 const修饰的全局变量是保存在常量区,不能通过变量名去修改.也不能通过地址去修改<br>3 const修饰的全局变量,如果其他文件想使用,直接extern声明外部可用即可   </p>
<h4 id="1-7-2-2、c-中的const"><a href="#1-7-2-2、c-中的const" class="headerlink" title="1-7-2-2、c++中的const"></a>1-7-2-2、c++中的const</h4><p>1 const修饰的局部变量赋值常量时,局部变量保存在符号表中,修改不了,是一个常量<br>2  const修饰的全局变量保存在常量区,不能被修改<br>3 const修饰的全局变量默认是内部链接属性,加上extern修饰变成外部链接属性</p>
<h4 id="1-7-2-3、相同的点"><a href="#1-7-2-3、相同的点" class="headerlink" title="1-7-2-3、相同的点:"></a>1-7-2-3、相同的点:</h4><p>c和c++中的const修饰的全局变量都是保存在常量区,不能被修改            </p>
<h4 id="1-7-2-4、不同的点"><a href="#1-7-2-4、不同的点" class="headerlink" title="1-7-2-4、不同的点:"></a>1-7-2-4、不同的点:</h4><p>c语言中const修饰的局部变量赋值为常量时,,局部变量保存在栈区,可以被指针修<br>改<br>c++中,const修饰的局部变量赋值为常量时,局部变量保存符号表中,不能被修改<br>c语言中const修饰的全局变量默认是外部链接属性<br>c++语言中const修饰的全局变量默认是内部链接属性<br>c++中const修饰的变量,分配内存情况<br>const修饰的全局变量在常量区分配了内存<br>对const修饰的局部变量赋值为常量时,对其取地址,会在栈区分配临时的内存空间<br>const修饰的局部变量赋值为变量时,局部变量保存在栈区<br>const修饰的局部变量时一个自定义变量,也是在栈区分配内存<br>只有一种情况,const’修饰的局部变量被赋值为常量时,这个局部变量保存在符号表中    </p>
<h4 id="1-7-2-5、尽量以const替换define"><a href="#1-7-2-5、尽量以const替换define" class="headerlink" title="1-7-2-5、尽量以const替换define"></a>1-7-2-5、尽量以const替换define</h4><p>有两点原因:</p>
<ol>
<li>const修饰的全局变量或const修饰的局部变量赋值为常量,是有类型的,而define的<br>宏没有 类型</li>
<li>const修饰的全局变量或const修饰的局部变量赋值为常量有作用域的,而define的<br>宏没有作用域</li>
</ol>
<h3 id="1-7-2-6、引用的用法"><a href="#1-7-2-6、引用的用法" class="headerlink" title="1-7-2-6、引用的用法"></a>1-7-2-6、引用的用法</h3><p>注意事项：   </p>
<ul>
<li>1、应用一旦初始化，就不可以更改引用指向  </li>
<li>2、引用定义的时候必须要初始化  </li>
<li>3、原类型 &amp;别名 &#x3D; 旧名  引用的实质就职取别名</li>
<li>4、引用不能使用NULL</li>
<li>5、引用可以引用任意类型包括数组</li>
<li>6、&amp;在等号的左边是引用，在等号的右边是取地址</li>
<li>7、引用可以作为函数形参</li>
<li>8、不能返回局部变量的引用</li>
<li>9、引用的本质是一个指针常量</li>
<li>10、</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">引用的本质是一个指针常量</span><br><span class="line">type &amp;b = a;</span><br><span class="line"> 编译器底层这么实现的:</span><br><span class="line">type *<span class="type">const</span> b = &amp;a;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<ul>
<li>11、指针的引用<br>套用引用公式：type &amp;q&#x3D;p<br>假设：type为指针类型<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">(<span class="type">int</span>* &amp;q)</span> <span class="comment">// int* &amp;q = p</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="type">int</span> *p=<span class="literal">NULL</span>;</span><br><span class="line"> <span class="built_in">fun</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>12、常量引用<br>const type &amp;p&#x3D;q;<br>常量引用代表不能通过引用取修改引用标示的那块空间</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="type">int</span> a = <span class="number">10</span>;   </span><br><span class="line"> <span class="comment">// const 修饰的是引用&amp; 不能通过引用去修改引用的这块空间的内容</span></span><br><span class="line"> <span class="type">const</span> <span class="type">int</span> &amp;b= a;</span><br><span class="line"><span class="comment">//b=1000;//err</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//int b&amp; = 100;//不能应用常量</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> &amp;b = a;</span><br><span class="line"><span class="comment">//b=1000;//err</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="1-8、内联函数"><a href="#1-8、内联函数" class="headerlink" title="1-8、内联函数"></a>1-8、内联函数</h2><ul>
<li>1、为什么要有内联函数<br> 第一个在c中也会出现，宏看起来像一个函数调用，但是会有隐藏一些难以发现的错误。<br> 第二个问题是c++特有的，预处理器不允许访问类的成员，也就是说预处理器宏不能用作<br>类类的成员函数。<br>内联函数就是继承了宏函数的高效,并且不会出错,还可以当成类的成员函数用  </li>
<li>2、宏函数和内联函数的区别<br>宏函数的替换是发生在预处理阶段<br>内联函数的替换是发生在编译阶段<br>宏函数容易出错,内联函数不会<br>内联函数和宏函数一样,都省去了调用函数的开销</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">#define myadd(a,b) a+b</span><br><span class="line">inline int myadd(int a,int b)</span><br><span class="line">&#123;</span><br><span class="line">    return a+b;J</span><br><span class="line">&#125;</span><br><span class="line">void test01()</span><br><span class="line">&#123;</span><br><span class="line">    int a = 10;</span><br><span class="line">    int b = 20;</span><br><span class="line">    //int c= myadd (a,b)*5;//a+b*5 替换发生在预处理阶段</span><br><span class="line">    int c = myadd(a,b)*5;//(a+b)*5替换发生在编译阶段 也和宏函数一样不会有函数调用的开销</span><br><span class="line">    cout&lt;&lt;c&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在c++中，预定义宏的概念是用内联函数来实现的，而内联函数本身也是一个真正的函数。<br>内联函数具有普通函数的所有行为。唯一不同之处在于内联函数会在适当的地方像预定义宏<br>一样展开，所以不需要函数调用的开销。因此应该不使用宏，使用内联函数。<br>在普通函数(非成员函数)函数前面加上inline关键字使之成为内联函数。但是必须注意必须<br>函数体和声明结合在一起，否则编译器将它作为普通函数来对待。<br><code>inline void func(int a);</code><br>以上写法没有任何效果，仅仅是声明函数，应该如下方式来做:<br><code>inline int func(int a)&#123;return ++;&#125; </code><br>注意: 编译器将会检查函数参数列表使用是否正确，并返回值(进行必要的转换)。这些事预<br>处理器无法完成的。<br>内联函数的确占用空间，但是内联函数相对于普通函数的优势只是省去了函数调用时候的压<br>栈，跳转，返回的开销。我们可以理解为内联函数是以空间换时间。        </p>
<h3 id="1-8-1、类的成员函数默认编译器会将它做成内联函数"><a href="#1-8-1、类的成员函数默认编译器会将它做成内联函数" class="headerlink" title="1-8-1、类的成员函数默认编译器会将它做成内联函数"></a>1-8-1、类的成员函数默认编译器会将它做成内联函数</h3><p>任何在类内部定义的函数自动成为内联函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 class Person&#123;</span><br><span class="line">2 public:</span><br><span class="line">3 Person()&#123; cout &lt;&lt; &quot;构造函数!&quot; &lt;&lt; endl; &#125;</span><br><span class="line">4 void PrintPerson()&#123; cout &lt;&lt; &quot;输出Person!&quot; &lt;&lt; endl; &#125;</span><br><span class="line">5 &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-8-2、内联函数和编译器"><a href="#1-8-2、内联函数和编译器" class="headerlink" title="1-8-2、内联函数和编译器"></a>1-8-2、内联函数和编译器</h4><p>内联函数并不是何时何地都有效，为了理解内联函数何时有效，应该要知道编译器碰到内联<br>函数会怎么处理？<br>对于任何类型的函数，编译器会将函数类型(包括函数名字，参数类型，返回值类型)放入到<br>符号表中。同样，当编译器看到内联函数，并且对内联函数体进行分析没有发现错误时，也<br>会将内联函数放入符号表。<br>当调用一个内联函数的时候，编译器首先确保传入参数类型是正确匹配的，或者如果类型不<br>正完全匹配，但是可以将其转换为正确类型，并且返回值在目标表达式里匹配正确类型，或<br>者可以转换为目标类型，内联函数就会直接替换函数调用，这就消除了函数调用的开销。假<br>如内联函数是成员函数，对象this指针也会被放入合适位置。<br>类型检查和类型转换、包括在合适位置放入对象this指针这些都是预处理器不能完成的。<br>但是c++内联编译会有一些限制，以下情况编译器可能考虑不会将函数进行内联编译。<br><code>不能存在任何形式的循环语句</code><br> <code>不能存在过多的条件判断语句</code><br> <code>函数体不能过于庞大</code><br> <code>不能对函数进行取址操作</code><br> 内联仅仅只是给编译器一个建议，编译器不一定会接受这种建议，如果你没有将函数声明为<br>内联函数，那么编译器也可能将此函数做内联编译。一个好的编译器将会内联小的、简单的函数。</p>
<h2 id="1-9、函数的默认参数"><a href="#1-9、函数的默认参数" class="headerlink" title="1-9、函数的默认参数"></a>1-9、函数的默认参数</h2><p>c++中的函数,形参可以设置默认参数,设置时需要注意以下几点:    </p>
<ul>
<li>设置默认参数时,某个参数设置了默认参数,从这个参数开始,后面的每一个都要设置。        </li>
<li>函数的声明和定义处设置默认参数只能一处设置  </li>
<li>有实参传入则使用实参,实参没有传入使用默认参数       <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//void fun01(int a = 1, int b = 2);</span></span><br><span class="line"><span class="comment">//默认参数 在设置时 声明和定义只能一处设置默认参数</span></span><br><span class="line"><span class="comment">//设置默认参数时 有一个参数设置了默认参数,从这个参数往后的每一个参数都要设置默认参数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun01</span><span class="params">(<span class="type">int</span> a=<span class="number">1</span>,<span class="type">int</span> b=<span class="number">2</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span>&lt;&lt;b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">fun01</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">  <span class="built_in">fun01</span>(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">  <span class="built_in">fun01</span>(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">  <span class="built_in">fun01</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">fun01</span>();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test01</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="1-10、占位参数"><a href="#1-10、占位参数" class="headerlink" title="1-10、占位参数"></a>1-10、占位参数</h2><p>占位参数给函数形参设置的,调用时需要传参,也可以设置占位参数为默认参数;<br>占位参数在符号重载++时会用到        </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span>=<span class="number">4</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="built_in">fun</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">  <span class="built_in">fun</span>(<span class="number">2</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-11、函数的重载"><a href="#1-11、函数的重载" class="headerlink" title="1-11、函数的重载"></a>1-11、函数的重载</h2><ul>
<li>1、函数的重载<br>在c++中函数的名字是刻印重名的,也就是可以有多个相同函数名的函数存在,<br>重载: 名字相同,意义不一样   </li>
<li>2、函数重载的条件<br>实现函数重载的条件：<br> 同一个作用域<br> 参数个数不同<br> 参数类型不同<br> 参数顺序不同<br> 函数的返回值不能成为函数重载的条件<br> 默认参数作为函数重载的条件可能发生二义性</li>
</ul>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数名一样 意义 不一样</span></span><br><span class="line"><span class="comment">//函数的重载发送必须在同一个作用域</span></span><br><span class="line"><span class="comment">//参数的个数不一样可以发送函数的重载</span></span><br><span class="line"><span class="comment">//参数 的类型不一样可以发生函数的重载</span></span><br><span class="line"><span class="comment">//参数的顺序不一样可以发生函数的重载</span></span><br><span class="line"><span class="comment">//返回值不能作为函数重载的条件</span></span><br><span class="line"><span class="comment">//默认参数作为函数重载的条件需要注意二义性</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot; fun(double a, int b)&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">( <span class="type">int</span> a, <span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot; void fun( int a, double b)&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot; void fun(double a)&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot;void fun(int a) &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//int fun(int a)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">// cout &lt;&lt; &quot;void fun(int a) &quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot;void fun(int a,int b) &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//void fun(int a, int b=2)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">// cout &lt;&lt; &quot;void fun(int a,int b) &quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="built_in">fun</span>(<span class="number">1</span>);</span><br><span class="line"> <span class="built_in">fun</span>(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"> <span class="built_in">fun</span>(<span class="number">3.14</span>);</span><br><span class="line"> <span class="built_in">fun</span>(<span class="number">1</span>, <span class="number">3.14</span>);</span><br><span class="line"> <span class="built_in">fun</span>(<span class="number">3.14</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="built_in">test01</span>();</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 编译器为了实现函数重载，也是默认为我们做了一些幕后的工作，编译器用不同的参数类型<br>来修饰不同的函数名，比如void func(); 编译器可能会将函数名修饰成func，当编译器碰到<br>void func(int x),编译器可能将函数名修饰为funcint,当编译器碰到void func(int x,char c),编译器<br>可能会将函数名修饰为funcintchar我这里使用”可能”这个字眼是因为编译器如何修饰重载<br>的函数名称并没有一个统一的标准，所以不同的编译器可能会产生不同的内部名。<br>void func(){}<br>void func(int x){}<br>void func(int x,char y){}<br> 以上三个函数在linux下生成的编译之后的函数名为:<br>_Z4funcv &#x2F;&#x2F;v 代表void,无参数<br>_Z4funci &#x2F;&#x2F;i 代表参数为int类型<br>_Z4funcic &#x2F;&#x2F;i 代表第一个参数为int类型，第二个参数为char类型     </p>
<h2 id="1-12、extern-“c”浅析"><a href="#1-12、extern-“c”浅析" class="headerlink" title="1-12、extern “c”浅析"></a>1-12、extern “c”浅析</h2><p>c++编辑器编译.c的函数时,需要声明为 extern “C”<br>main.cpp            </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;test.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> cout &lt;&lt; <span class="title">myadd</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>)</span> &lt;&lt; endl</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>test.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">myadd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>test.h</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> <span class="type">int</span> <span class="title function_">myadd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line"> <span class="meta">#<span class="keyword">if</span> __cplusplus</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="2、类和对象"><a href="#2、类和对象" class="headerlink" title="2、类和对象"></a>2、类和对象</h1><h2 id="2-1、c和c-中struct的区别"><a href="#2-1、c和c-中struct的区别" class="headerlink" title="2-1、c和c++中struct的区别"></a>2-1、c和c++中struct的区别</h2><ul>
<li>c语言中结构体中不能存放函数,也就是数据(属性)和行为(方<br>法)是分离的</li>
<li>c++中结构体中是可以存放函数的,也就是数据(属性)和行为<br>(方法)是封装在一起的</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//c语言中 不能放函数</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_stu</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="type">int</span> a;</span><br><span class="line"> <span class="type">int</span> b[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//c++中 可以放函数</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_stu1</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="type">int</span> a;</span><br><span class="line"> <span class="type">int</span> b[<span class="number">5</span>];</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">print_stu</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> cout &lt;&lt; a &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">student</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="comment">//学生的属性和数据</span></span><br><span class="line"> <span class="type">int</span> age;</span><br><span class="line"> <span class="type">int</span> id;</span><br><span class="line"> <span class="type">char</span> name[<span class="number">256</span>];</span><br><span class="line"> <span class="comment">//操作属性的叫做 方法或行为‐函数</span></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> cout &lt;&lt; age &lt;&lt; id &lt;&lt; name &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> student obj;</span><br><span class="line"> obj.age = <span class="number">10</span>;</span><br><span class="line"> obj.id = <span class="number">20</span>;</span><br><span class="line"> <span class="built_in">strcpy</span>(obj.name,<span class="string">&quot;lucy&quot;</span>);</span><br><span class="line"> obj.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="built_in">test01</span>();</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-2、C语言中表示事物的方法存在的问题"><a href="#2-2、C语言中表示事物的方法存在的问题" class="headerlink" title="2-2、C语言中表示事物的方法存在的问题"></a>2-2、C语言中表示事物的方法存在的问题</h2><p>c语言中表示事物时,将属性和行为分离,有可能行为调用出错   </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//表示人</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="type">int</span> age;</span><br><span class="line"> <span class="type">char</span> name[<span class="number">128</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Person_eat</span><span class="params">(<span class="keyword">struct</span> Person *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s 在吃饭\n&quot;</span>,p‐&gt;name);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//表示dog</span></span><br><span class="line"> <span class="keyword">struct</span> <span class="title class_">Dog</span></span><br><span class="line"> &#123;</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  <span class="type">char</span> name[<span class="number">128</span>];</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">Dog_eat</span><span class="params">(<span class="keyword">struct</span> Dog *p)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s 在吃粑粑\n&quot;</span>, p‐&gt;name);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">Person</span> p1;</span><br><span class="line">  p1.age = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">strcpy</span>(p1.name,<span class="string">&quot;bob&quot;</span>);</span><br><span class="line">  <span class="built_in">Person_eat</span>(&amp;p1);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">Dog</span> d1;</span><br><span class="line">  d1.age = <span class="number">7</span>;</span><br><span class="line">  <span class="built_in">strcpy</span>(d1.name,<span class="string">&quot;旺财&quot;</span>);</span><br><span class="line">  <span class="built_in">Dog_eat</span>(&amp;d1);</span><br><span class="line">  <span class="built_in">Dog_eat</span>(&amp;p1);<span class="comment">//人 调用了狗的行为</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test01</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-3、c-中对事物的封装-类"><a href="#2-3、c-中对事物的封装-类" class="headerlink" title="2-3、c++中对事物的封装-类"></a>2-3、c++中对事物的封装-类</h2><ul>
<li>c++将事物的属性和行为封装在一起</li>
<li>类和结构体的一个区别在于,类对成员可以进行访问的权限控<br>制,结构体不可以</li>
<li>类 &#x3D; 类型 (事物的行为和属性)   类实例化出来的变量叫对象</li>
<li>类中的函数 可以访问类里面的成员</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//c++中对事物的封装 将属性和行为封装在一起</span></span><br><span class="line"><span class="comment">//类 将事物抽象成属性和行为,并且封装在一起</span></span><br><span class="line"><span class="comment">//结构体中所有成员默认都是公有的 类中的所有成员默认是私有的,也可以修改成员的访问权限</span></span><br><span class="line"><span class="comment">// struct Person</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">public</span>:<span class="comment">//公有的</span></span><br><span class="line">  <span class="comment">//类中的所有成员 访问的权限都是私有的 private</span></span><br><span class="line">  <span class="comment">//属性</span></span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  <span class="type">char</span> name[<span class="number">128</span>];</span><br><span class="line">  <span class="comment">//行为</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">Person_eat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s 吃饭\n&quot;</span>,name);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="keyword">struct</span> <span class="title class_">Dog</span></span><br><span class="line"> &#123;</span><br><span class="line">  <span class="comment">//属性</span></span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  <span class="type">char</span> name[<span class="number">128</span>];</span><br><span class="line">  <span class="comment">//行为</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">Dog_eat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s 吃粑粑\n&quot;</span>, name);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="comment">//通过类 实例化出一个变量 这个变量叫对象</span></span><br><span class="line">  Person p1;</span><br><span class="line">  p1.age = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">strcpy</span>(p1.name, <span class="string">&quot;lucy&quot;</span>);</span><br><span class="line">  p1.<span class="built_in">Person_eat</span>();</span><br><span class="line"></span><br><span class="line">  Dog d1;</span><br><span class="line">  d1.age == <span class="number">6</span>;</span><br><span class="line">  <span class="built_in">strcpy</span>(d1.name,<span class="string">&quot;旺财&quot;</span>);</span><br><span class="line">  d1.<span class="built_in">Dog_eat</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-4、类中的成员权限"><a href="#2-4、类中的成员权限" class="headerlink" title="2-4、类中的成员权限"></a>2-4、类中的成员权限</h2><table>
<thead>
<tr>
<th align="center">访问属性</th>
<th align="center">属性</th>
<th align="center">对象内部</th>
<th align="left">对象外部</th>
</tr>
</thead>
<tbody><tr>
<td align="center">public</td>
<td align="center">公有</td>
<td align="center">可访问</td>
<td align="left">可访问</td>
</tr>
<tr>
<td align="center">protected</td>
<td align="center">保护</td>
<td align="center">可访问</td>
<td align="left">不可访问</td>
</tr>
<tr>
<td align="center">privata</td>
<td align="center">私有</td>
<td align="center">可访问</td>
<td align="left">不可访问</td>
</tr>
</tbody></table>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>: <span class="comment">//公有的 类内类外都可访问</span></span><br><span class="line"> <span class="type">int</span> mTall; <span class="comment">//多高，可以让外人知道</span></span><br><span class="line"><span class="keyword">protected</span>: <span class="comment">// 保护的 类外不可访问 类内是可以访问的 子类可以访问</span></span><br><span class="line">  <span class="type">int</span> mMoney; <span class="comment">// 有多少钱,只能儿子孙子知道</span></span><br><span class="line"> <span class="keyword">private</span>: <span class="comment">//私有的 类外不可访问 类内是可以访问的 子类不可访问</span></span><br><span class="line">  <span class="type">int</span> mAge; <span class="comment">//年龄，不想让外人知道</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  cout &lt;&lt; mTall &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  cout &lt;&lt; mMoney &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  cout &lt;&lt; mAge &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  person p;</span><br><span class="line">  p.mTall = <span class="number">180</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-5、尽量设置成员变量为私有权限"><a href="#2-5、尽量设置成员变量为私有权限" class="headerlink" title="2-5、尽量设置成员变量为私有权限"></a>2-5、尽量设置成员变量为私有权限</h2><p>设置成员变量为私有，有点：   </p>
<ul>
<li>对变量的设置时的控制</li>
<li>可以给变量设置只读权限</li>
<li>可以给变量设置只写权限</li>
<li>可以给变量设置可读可写权限</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AccessLevels</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//对只读属性进行只读访问</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getReadOnly</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> readOnly; &#125;</span><br><span class="line"><span class="comment">//对读写属性进行读写访问</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setReadWrite</span><span class="params">(<span class="type">int</span> val)</span></span>&#123; readWrite = val; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getReadWrite</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> readWrite; &#125;</span><br><span class="line"><span class="comment">//对只写属性进行只写访问</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setWriteOnly</span><span class="params">(<span class="type">int</span> val)</span></span>&#123; writeOnly = val; &#125;</span><br><span class="line"> <span class="keyword">private</span>:</span><br><span class="line"> <span class="type">int</span> readOnly; <span class="comment">//对外只读访问</span></span><br><span class="line"> <span class="type">int</span> noAccess; <span class="comment">//外部不可访问</span></span><br><span class="line"> <span class="type">int</span> readWrite; <span class="comment">//读写访问</span></span><br><span class="line"> <span class="type">int</span> writeOnly; <span class="comment">//只写访问</span></span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>简单示例<br> <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">person_init</span> <span class="params">( <span class="type">int</span> age , <span class="type">char</span>* name )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ( age &gt;= <span class="number">0</span> &amp;&amp; age &lt;= <span class="number">100</span> )</span><br><span class="line">            m_age = age;</span><br><span class="line">        <span class="built_in">strcpy</span> ( m_name , name );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show_person</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; m_name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; m_age &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_age</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_age</span> <span class="params">( <span class="type">int</span> age )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ( age &gt;= <span class="number">0</span> &amp;&amp; age &lt;= <span class="number">100</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            m_age = age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">char</span>* <span class="title">get_name</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_name</span> <span class="params">( <span class="type">char</span>* name )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">strcpy</span> ( m_name , name );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_age;</span><br><span class="line">    <span class="type">char</span> m_name[ <span class="number">128</span> ];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p1;</span><br><span class="line">    p1.<span class="built_in">person_init</span> ( <span class="number">20</span> , <span class="string">&quot;lucy&quot;</span> );</span><br><span class="line">    p1.<span class="built_in">show_person</span> ( );</span><br><span class="line">    p1.<span class="built_in">set_age</span> ( <span class="number">30</span> );</span><br><span class="line">    p1.<span class="built_in">set_name</span> ( <span class="string">&quot;bob&quot;</span> );</span><br><span class="line">    p1.<span class="built_in">show_person</span> ( );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>判断两个立方体是否相等</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cube</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_L</span> <span class="params">( <span class="type">int</span> l )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        L = l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_W</span> <span class="params">( <span class="type">int</span> w )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        W = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_H</span> <span class="params">( <span class="type">int</span> h )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        H = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_L</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> L;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_W</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> W;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_H</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> H;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//求立方体的体积</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_cube_V</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> L * W * H;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//求立方体面积</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_cube_S</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * W * L + <span class="number">2</span> * W * H + <span class="number">2</span> * L * H;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//判断两个立方体是否相等</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">compare_cube</span> <span class="params">( Cube&amp; c1 )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c1.<span class="built_in">get_L</span> ( ) == L &amp;&amp; c1.<span class="built_in">get_W</span> ( ) == W &amp;&amp; c1.<span class="built_in">get_H</span> ( ) == H;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> L;</span><br><span class="line">    <span class="type">int</span> W;</span><br><span class="line">    <span class="type">int</span> H;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">comapre_cube</span> <span class="params">( Cube&amp; c1 , Cube&amp; c2 )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> c1.<span class="built_in">get_L</span> ( ) == c2.<span class="built_in">get_L</span> ( ) &amp;&amp; c1.<span class="built_in">get_W</span> ( ) == c2.<span class="built_in">get_W</span> ( ) &amp;&amp;</span><br><span class="line">        c1.<span class="built_in">get_H</span> ( ) == c2.<span class="built_in">get_H</span> ( );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Cube c1;</span><br><span class="line">    c1.<span class="built_in">set_L</span> ( <span class="number">10</span> );</span><br><span class="line">    c1.<span class="built_in">set_W</span> ( <span class="number">20</span> );</span><br><span class="line">    c1.<span class="built_in">set_H</span> ( <span class="number">30</span> );</span><br><span class="line">    cout &lt;&lt; c1.<span class="built_in">get_cube_S</span> ( ) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; c1.<span class="built_in">get_cube_V</span> ( ) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    Cube c2;</span><br><span class="line">    c2.<span class="built_in">set_L</span> ( <span class="number">20</span> );</span><br><span class="line">    c2.<span class="built_in">set_W</span> ( <span class="number">20</span> );</span><br><span class="line">    c2.<span class="built_in">set_H</span> ( <span class="number">30</span> );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ( c1.<span class="built_in">compare_cube</span> ( c2 ) )</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;立方体相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;立方体不相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ( <span class="built_in">comapre_cube</span> ( c1 , c2 ) )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;立方体相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;立方体不相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>点和圆关系</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//定义点类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setX</span> <span class="params">( <span class="type">int</span> x )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        mX = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setY</span> <span class="params">( <span class="type">int</span> y )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        mY = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getX</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mX;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getY</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mY;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> mX;</span><br><span class="line">    <span class="type">int</span> mY;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//圆类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setP</span> <span class="params">( <span class="type">int</span> x , <span class="type">int</span> y )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        mP.<span class="built_in">setX</span> ( x );</span><br><span class="line">        mP.<span class="built_in">setY</span> ( y );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setR</span> <span class="params">( <span class="type">int</span> r )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        mR = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Point&amp; <span class="title">getP</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mP;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getR</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mR;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//判断点和圆的关系</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">IsPointInCircle</span> <span class="params">( Point&amp; point )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> distance = ( point.<span class="built_in">getX</span> ( ) - mP.<span class="built_in">getX</span> ( ) ) * ( point.<span class="built_in">getX</span> ( ) - mP.<span class="built_in">getX</span> ( ) ) + ( point.<span class="built_in">getY</span> ( ) - mP.<span class="built_in">getY</span> ( ) ) * ( point.<span class="built_in">getY</span> ( ) - mP.<span class="built_in">getY</span> ( ) );</span><br><span class="line">        <span class="type">int</span> radius = mR * mR;</span><br><span class="line">        <span class="keyword">if</span> ( distance &lt; radius )</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Point(&quot;</span> &lt;&lt; point.<span class="built_in">getX</span> ( ) &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; point.<span class="built_in">getY</span> ( ) &lt;&lt; <span class="string">&quot;)在圆内!&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( distance &gt; radius )</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Point(&quot;</span> &lt;&lt; point.<span class="built_in">getX</span> ( ) &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; point.<span class="built_in">getY</span> ( ) &lt;&lt; <span class="string">&quot;)在圆外!&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Point(&quot;</span> &lt;&lt; point.<span class="built_in">getX</span> ( ) &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; point.<span class="built_in">getY</span> ( ) &lt;&lt; <span class="string">&quot;)在圆上!&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    Point mP; <span class="comment">//圆心</span></span><br><span class="line">    <span class="type">int</span> mR; <span class="comment">//半径</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//实例化圆对象</span></span><br><span class="line">    Circle circle;</span><br><span class="line">    circle.<span class="built_in">setP</span> ( <span class="number">20</span> , <span class="number">20</span> );</span><br><span class="line">    circle.<span class="built_in">setR</span> ( <span class="number">5</span> );</span><br><span class="line">    <span class="comment">//实例化点对象</span></span><br><span class="line">    Point point;</span><br><span class="line">    point.<span class="built_in">setX</span> ( <span class="number">25</span> );</span><br><span class="line">    point.<span class="built_in">setY</span> ( <span class="number">20</span> );</span><br><span class="line"></span><br><span class="line">    circle.<span class="built_in">IsPointInCircle</span> ( point );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>理解：类，相当于作用域<br>在 C++ 中，类确实可以被视为一种作用域。类作用域定义了类成员（包括数据成员和成员函数）的可见性和可访问性范围。以下是关于类作用域的一些关键点：</p>
<p>1、成员的可见性：</p>
<ul>
<li>类的成员默认是私有的（private），这意味着它们只能被类内的其他成员访问。</li>
<li>可以通过使用 public、protected 和 private 关键字来控制成员的访问级别。</li>
<li>类的公有成员（public）可以从类外部访问。</li>
<li>类的受保护成员（protected）可以从类外部的派生类访问。</li>
<li>类的私有成员（private）只能从类内部访问。</li>
</ul>
<p>2、成员的访问：</p>
<ul>
<li>非静态成员通常通过对象、对象指针或对象引用访问。</li>
<li>静态成员可以通过类名直接访问，也可以通过对象访问。</li>
<li>使用作用域解析运算符（::）来明确指定类名访问静态成员或类型别名等。</li>
</ul>
<p>3、命名冲突解决：</p>
<ul>
<li>类作用域帮助避免命名冲突，因为不同类中的成员可以有相同的名字，只要它们不互相干扰。</li>
</ul>
<p>4、封装：</p>
<ul>
<li>类作用域支持封装的概念，即隐藏实现细节并暴露有限的接口供外部使用。</li>
</ul>
<h1 id="3、-构造和析构"><a href="#3、-构造和析构" class="headerlink" title="3、 构造和析构"></a>3、 构造和析构</h1><h2 id="3-1-、构造和析构的概念"><a href="#3-1-、构造和析构的概念" class="headerlink" title="3-1 、构造和析构的概念"></a>3-1 、构造和析构的概念</h2><ul>
<li>创建对象时,对对象进行初始化的工作,就是构造</li>
<li>销毁对象时,对对象进行清理工作,就是析构</li>
<li>一般需要人为提供,如果不提供,那么编译器也会给提供,只是编</li>
<li>译器提供的构造和析构函数不会做任何操作</li>
<li>创建对象时和释放对象时,构造函数和析构函数自动会调用,不需要人为调用</li>
</ul>
<h2 id="3-2-构造函数和析构函数"><a href="#3-2-构造函数和析构函数" class="headerlink" title="3-2 构造函数和析构函数"></a>3-2 构造函数和析构函数</h2><p> 构造函数:          </p>
<ul>
<li>没有返回值</li>
<li>函数名和类名一致</li>
<li>有参数,参数可以有多个</li>
<li>可以发送函数的重载</li>
<li>创建对象时,会自定调用<br> 析构函数:</li>
<li>没有返回值</li>
<li>函数名: 类名前面加上~</li>
<li>没有参数</li>
<li>不能发送函数的重载</li>
<li>销毁对象之前,回被自动调用</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">//构造函数 1 函数名和类名一致 没有返回值 不能写void 可以有参数 可以发生函数重载</span></span><br><span class="line">  <span class="built_in">Person</span>(<span class="type">int</span> age,string name)</span><br><span class="line">  &#123;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;person的构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  m_age = age;</span><br><span class="line">  m_name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//析构函数 函数名: 类名前面加上~ 没有返回值 不可以有参数 不能发生函数重载</span></span><br><span class="line">  ~<span class="built_in">Person</span>()</span><br><span class="line">  &#123;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> m_age;</span><br><span class="line">  string m_name;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="string">&quot;lucy&quot;</span>)</span></span>; <span class="comment">//构造函数是在实例化对象时会创建,就是在内存开辟空间时会被调用</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//销毁之前 自动调用析构函数</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="3-3、构造函数的分类"><a href="#3-3、构造函数的分类" class="headerlink" title="3-3、构造函数的分类"></a>3-3、构造函数的分类</h2><p>无参构造和有参构造<br>普通沟通和拷贝构造<br>拷贝构造函数的写法:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">类名（const 类名 &amp;ob）</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意:</p>
<ul>
<li>如果自定义了一个构造函数,系统将不再提供默认的构造函数</li>
<li>如果自定义了一个拷贝构造,系统将不再提供默认的拷贝构造</li>
<li>默认的拷贝构造是简单的值拷贝</li>
<li>如果创建对象时,不能调用对应的构造函数,将不能创建出对象</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//有参和无参构造</span></span><br><span class="line">    <span class="built_in">Person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;无参构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Person</span> ( <span class="type">int</span> a , string n )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;有参构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">        age = a;</span><br><span class="line">        name = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 拷贝构造的调用时机 : 旧对象初始化新对象</span></span><br><span class="line">    <span class="comment">//如过自定义了一个拷贝构造,那么系统不再提供默认的拷贝构造</span></span><br><span class="line">    <span class="built_in">Person</span> ( <span class="type">const</span> Person&amp; p )<span class="comment">// Person p = p2</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//拷贝构造做了简单的值拷贝</span></span><br><span class="line">        age = p.age;</span><br><span class="line">        name = p.name;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;拷贝构造&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    string name;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//如果人为提供了一个有参和有参构造,系统将不再提供默认的无参构造</span></span><br><span class="line">    Person p1;<span class="comment">//调用无参构造时 不能使用括号法</span></span><br><span class="line">    <span class="function">Person <span class="title">p2</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">    <span class="function">Person <span class="title">p3</span> <span class="params">( p2 )</span></span>;<span class="comment">//调用系统提供的默认拷贝构造</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//explicit 关键字 修饰构造函数  作用是不能通过隐式法调用构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">Person</span> <span class="params">( <span class="type">const</span> Person&amp; p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//匿名对象 没有名字 生命周期在当前行</span></span><br><span class="line">    <span class="built_in">Person</span> ( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> );<span class="comment">// 调用了有参构造创建了一个匿名对象</span></span><br><span class="line">    <span class="built_in">Person</span> ( );<span class="comment">//调用了无参构造创建了一个匿名对象</span></span><br><span class="line">    <span class="function">Person <span class="title">p1</span> <span class="params">( <span class="number">20</span> , <span class="string">&quot;heihei&quot;</span> )</span></span>;</span><br><span class="line">    <span class="comment">//Person (p1);//在定义时匿名对象不能使用括号法调用拷贝构造</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//显示法调用构造函数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p1 = <span class="built_in">Person</span> ( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> );<span class="comment">//显示法调用有参构造</span></span><br><span class="line">    Person p2 = <span class="built_in">Person</span> ( p1 );<span class="comment">//显示法调用拷贝构造</span></span><br><span class="line">    Person p3 = <span class="built_in">Person</span> ( );<span class="comment">//显示法调用无参构造</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 隐式法调用构造函数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test04</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p1 = &#123; <span class="number">10</span>, <span class="string">&quot;lucy&quot;</span> &#125;;<span class="comment">// 隐式法调用有参构造</span></span><br><span class="line">    Person p2 = p1;<span class="comment">// 隐式法调用拷贝构造</span></span><br><span class="line">    <span class="comment">//Person p3 ;// 隐式法不能调用无参构造</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Complex</span> <span class="params">( <span class="type">double</span> real )</span> : _real ( real ) , _imag ( <span class="number">0</span> )</span></span><br><span class="line"><span class="function">    &#123;</span></span><br><span class="line">    &#125; <span class="comment">// 使用 explicit</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">real</span> <span class="params">( )</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _real;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">imag</span> <span class="params">( )</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _imag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> _real;</span><br><span class="line">    <span class="type">double</span> _imag;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 下面的语句不会编译，因为构造函数被标记为 explicit</span></span><br><span class="line">    <span class="comment">// Complex c = 3.14; </span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 显式调用构造函数</span></span><br><span class="line">    <span class="function">Complex <span class="title">c</span> <span class="params">( <span class="number">3.14</span> )</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这段C++代码定义了一个名为Complex的类，用于表示复数。具体功能如下：</p>
<p>1、构造函数:<br><code>explicit Complex(double real) : _real(real), _imag(0)</code></p>
<ul>
<li>这个构造函数接收一个double类型的参数real，用来初始化复数的实部。</li>
<li>_real和_imag分别是存储复数实部和虚部的私有成员变量。</li>
<li>使用explicit关键字是为了避免无意间的类型转换。</li>
</ul>
<p>2、成员方法:<br><code>double real() const</code></p>
<ul>
<li>返回复数的实部。<br><code>double imag() const</code></li>
<li>返回复数的虚部。</li>
</ul>
<p>3、成员变量:</p>
<ul>
<li>_real: 存储复数的实部。</li>
<li>_imag: 存储复数的虚部。<br>综上所述，这个类可以创建复数对象并获取其实部和虚部。</li>
</ul>
<p>4、在这个上下文中，冒号 (:) 用于初始化列表 (Initializer List)。<br>在构造函数的定义中，explicit Complex(double real) : _real(real), _imag(0) 中的冒号后面跟着的是初始化列表。<br>这里的意思是：</p>
<ul>
<li>_real 成员变量被初始化为传入的 real 参数的值。</li>
<li>_imag 成员变量被初始化为 0。<br>这样做的好处是在构造函数执行之前就直接给成员变量赋值，而不是在构造函数体内通过赋值语句来设置它们的值。这种方式更加高效且安全</li>
</ul>
<p>5、在C++中，成员函数后面的const关键字表示该成员函数不会修改类的任何成员变量。具体来说：</p>
<ul>
<li>double real() const 和 double imag() const 中的 const 表示这两个成员函数是“常量成员函数”。</li>
<li>常量成员函数保证不会修改对象的状态，即不会修改类中的非静态数据成员。</li>
<li>这样的设计允许这些函数在一个常量对象上调用，或者在对象被声明为const的情况下调用。<br>简单来说，这里的const告诉编译器和程序员这两个函数是安全的，不会改变对象的状态。</li>
</ul>
<p>6、如果去掉explicit关键字，并使用Complex c &#x3D; 3.14;这样的语句，会发生以下情况：<br>隐式类型转换:</p>
<ul>
<li>不带explicit的单参数构造函数允许从double类型隐式转换到Complex类型。</li>
<li>在这种情况下，3.14会被隐式转换为Complex对象，其实部为3.14，虚部为0。</li>
</ul>
<p>对象创建:</p>
<ul>
<li><p>Complex c &#x3D; 3.14; 将创建一个Complex类型的对象c。</p>
</li>
<li><p>对象c的实部将被初始化为3.14，虚部默认为0。<br>总结：</p>
</li>
<li><p>如果不使用explicit，上述语句将成功编译，并创建一个实部为3.14、虚部为0的Complex对象c。</p>
</li>
</ul>
<p>7、如果保留explicit关键字，并使用Complex c &#x3D; 3.14;这样的语句，会发生以下情况：</p>
<p>显式构造函数:</p>
<ul>
<li>explicit关键字阻止了从double类型到Complex类型的隐式转换。</li>
<li>因此，Complex c &#x3D; 3.14;这样的语句会导致编译错误，因为不允许隐式转换。</li>
</ul>
<p>编译错误:</p>
<ul>
<li><p>编译器会报告一个错误，指出不能将double类型隐式转换为Complex类型。<br>总结：</p>
</li>
<li><p>如果保留explicit，上述语句会导致编译错误，因为不允许从double类型隐式转换到Complex类型。</p>
</li>
</ul>
<h2 id="3-4、拷贝构造函数的调用时机"><a href="#3-4、拷贝构造函数的调用时机" class="headerlink" title="3-4、拷贝构造函数的调用时机"></a>3-4、拷贝构造函数的调用时机</h2><p> 总结一种情况:  旧对象初始化新对象<br>分类:</p>
<ul>
<li>旧对象初始化新对象</li>
<li>形参是一个对象</li>
<li>返回局部对象</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;no param contructor!&quot;</span> &lt;&lt; endl;</span><br><span class="line">        mAge = <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span> ( <span class="type">int</span> age )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;param constructor!&quot;</span> &lt;&lt; endl;</span><br><span class="line">        mAge = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span> ( <span class="type">const</span> Person&amp; person )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;copy constructor!&quot;</span> &lt;&lt; endl;</span><br><span class="line">        mAge = person.mAge;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;destructor!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//1. 旧对象初始化新对象</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Person <span class="title">p</span> <span class="params">( <span class="number">10</span> )</span></span>;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span> <span class="params">( p )</span></span>;<span class="comment">//调用拷贝构造函数</span></span><br><span class="line">    Person p2 = <span class="built_in">Person</span> ( p );<span class="comment">//调用拷贝构造函数</span></span><br><span class="line">    Person p3 = p; <span class="comment">// 相当于Person p2 = Person(p);调用拷贝构造函数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2. 传递的参数是普通对象，函数参数也是普通对象，传递将会调用拷贝构造</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doBussiness</span> <span class="params">( Person p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;<span class="comment">//Person p = p</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p</span> <span class="params">( <span class="number">10</span> )</span></span>;</span><br><span class="line">    <span class="built_in">doBussiness</span> ( p );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3. 函数返回局部对象</span></span><br><span class="line"><span class="function">Person <span class="title">MyBusiness</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p</span> <span class="params">( <span class="number">10</span> )</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;局部p:&quot;</span> &lt;&lt; ( <span class="type">int</span>* )&amp;p &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//vs release、qt下没有调用拷贝构造函数</span></span><br><span class="line">    <span class="comment">//vs debug下调用一次拷贝构造函数</span></span><br><span class="line">    Person p = <span class="built_in">MyBusiness</span> ( );</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;局部p:&quot;</span> &lt;&lt; ( <span class="type">int</span>* )&amp;p &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test03</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-5、c-默认增加的函数"><a href="#3-5、c-默认增加的函数" class="headerlink" title="3.5、c++默认增加的函数"></a>3.5、c++默认增加的函数</h2><p>默认情况下，c++编译器至少为我们写的类增加3个函数<br>1．默认构造函数(无参，函数体为空)<br>2．默认析构函数(无参，函数体为空)<br>3．默认拷贝构造函数，对类中非静态成员属性简单值拷贝<br> 如果用户定义拷贝构造函数，c++不会再提供任何默认构造函数<br> 如果用户定义了普通构造(非拷贝)，c++不在提供默认无参构造，但是<br>会提供默认拷贝构造</p>
<h2 id="3-6、构造函数的深拷贝和浅拷贝"><a href="#3-6、构造函数的深拷贝和浅拷贝" class="headerlink" title="3-6、构造函数的深拷贝和浅拷贝"></a>3-6、构造函数的深拷贝和浅拷贝</h2><p>在C++中，深拷贝和浅拷贝指的是在对象复制过程中如何处理对象内部数据的不同方式，特别是当对象包含指向动态分配内存的指针时。</p>
<p>1、浅拷贝：</p>
<ul>
<li>浅拷贝指的是当复制一个对象时，仅仅是复制了对象的数据成员的值，对于对象中的指针成员，也只是进行了简单的地址复制。</li>
<li>如果对象中包含指向动态分配内存的指针，那么浅拷贝会导致两个对象都指向同一块内存区域。</li>
<li>这种情况下，当其中一个对象的生命周期结束或显式调用析构函数时，这块内存被释放，另一个对象的指针就变成了野指针，可能导致程序崩溃或未定义行为。</li>
</ul>
<p>2、深拷贝：</p>
<ul>
<li>深拷贝在复制对象时不仅复制对象的数据成员的值，还会为那些指向动态分配内存的指针成员重新分配新的内存，并且复制这些数据到新的内存位置。</li>
<li>这样，原始对象和复制的对象各自拥有自己的内存资源，修改一个对象的内容不会影响到另一个对象。</li>
<li>深拷贝确保了每个对象拥有独立的资源，避免了浅拷贝带来的问题。<br>为了实现深拷贝，通常需要自定义类的拷贝构造函数和赋值运算符重载，以确保在复制对象时能够正确地管理资源。例如，拷贝构造函数可能看起来像这样：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span>* data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 拷贝构造函数</span></span><br><span class="line">    <span class="built_in">MyClass</span>(<span class="type">const</span> MyClass&amp; other) &#123;</span><br><span class="line">        <span class="comment">// 分配新的内存并复制数据</span></span><br><span class="line">        data = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line">        *data = *(other.data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 析构函数</span></span><br><span class="line">    ~<span class="built_in">MyClass</span>() &#123;</span><br><span class="line">        <span class="keyword">delete</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 其他成员函数...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
这里，MyClass 的拷贝构造函数为 data 分配了新的内存，并从 other 对象中复制了数据，这就是一个深拷贝的例子。如果只是简单地执行了 data &#x3D; other.data;，那就是浅拷贝。</li>
</ul>
<h2 id="3-7、多个对象构造和析构"><a href="#3-7、多个对象构造和析构" class="headerlink" title="3-7、多个对象构造和析构"></a>3-7、多个对象构造和析构</h2><h3 id="3-7-1、初始化列表"><a href="#3-7-1、初始化列表" class="headerlink" title="3-7-1、初始化列表"></a>3-7-1、初始化列表</h3><p>注意:</p>
<ul>
<li>初始化列表,先声明 在调用构造函数时定义并初始化 ,定义初<br>始化的顺序和声明的顺序一致</li>
<li>普通的构造函数,先定义,在赋值</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="comment">//先定义了int m_a; int m_b;int m_c; 然后在分别赋值</span></span><br><span class="line">  <span class="comment">/*person(int a,int b,int c)</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">  m_a = a;</span></span><br><span class="line"><span class="comment">  m_b = b;</span></span><br><span class="line"><span class="comment">  m_c = c;</span></span><br><span class="line"><span class="comment">  &#125;*/</span></span><br><span class="line">  <span class="comment">//先声明了int m_a; int m_b;int m_c 在根据声明的顺序进行定义初始化</span></span><br><span class="line">  <span class="comment">//调用构造函数是 定义并初始化,顺序和声明的顺序一致</span></span><br><span class="line">  <span class="built_in">person</span>(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c) :<span class="built_in">m_a</span>(a), <span class="built_in">m_b</span>(b), <span class="built_in">m_c</span>(c) &#123;&#125;<span class="comment">//int m_a=a;int m_c=c;int m_b=b</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  cout &lt;&lt; m_a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; m_b &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; m_c &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> m_a;<span class="type">int</span> m_c;</span><br><span class="line">  <span class="type">int</span> m_b;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function">person <span class="title">p1</span><span class="params">(<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line">  p1.<span class="built_in">show</span>();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test01</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-7-2、类对象成为另一个类的成员"><a href="#3-7-2、类对象成为另一个类的成员" class="headerlink" title="3-7-2、类对象成为另一个类的成员"></a>3-7-2、类对象成为另一个类的成员</h3><ul>
<li>类中有多个对象时,构造的顺序是先构造里面的对象,在构造外<br>面的对象</li>
<li>类中有多个对象时,析构时顺序是先析构外面的对象,在析构里<br>面的对象</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Phone</span> ( string name )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Phone的构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">        pho_name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Phone</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Phone的析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    string pho_name;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Game</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Game</span> ( string name )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Game的构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">        game_name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Game</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Game的析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    string game_name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/*Person(string per_name1,string pho_name,string g_name)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">    per_name = per_name1;</span></span><br><span class="line"><span class="comment">    phone.pho_name = pho_name;</span></span><br><span class="line"><span class="comment">    game.game_name = g_name;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="built_in">Person</span> ( string per_name1 , string pho_name , string g_name ) :<span class="built_in">per_name</span> ( per_name1 ) , <span class="built_in">phone</span> ( pho_name ) , <span class="built_in">game</span> ( g_name )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;person的构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; per_name &lt;&lt; phone.pho_name &lt;&lt; <span class="string">&quot; 玩着&quot;</span> &lt;&lt; game.game_name &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person的析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    string per_name;</span><br><span class="line">    Game game;</span><br><span class="line">    Phone phone;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Person <span class="title">p1</span> <span class="params">( <span class="string">&quot;bob&quot;</span> , <span class="string">&quot;诺基亚&quot;</span> , <span class="string">&quot;贪吃蛇&quot;</span> )</span></span>;</span><br><span class="line">    p1.<span class="built_in">show</span> ( );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-8-、explicit"><a href="#3-8-、explicit" class="headerlink" title="3-8 、explicit"></a>3-8 、explicit</h2><p>c++提供了关键字explicit，禁止通过构造函数进行的隐式转换。声明为<br>explicit的构造函数不能在隐式转换中使用。<br>[explicit注意]<br> explicit用于修饰构造函数,防止隐式转化。<br> 是针对单参数的构造函数(或者除了第一个参数外其余参数都有默认值<br>的多参构造)而言。<code>之前有提到过</code></p>
<h2 id="3-9、动态对象创建"><a href="#3-9、动态对象创建" class="headerlink" title="3-9、动态对象创建"></a>3-9、动态对象创建</h2><h3 id="3-9-1、malloc和free动态申请对象和释放对象"><a href="#3-9-1、malloc和free动态申请对象和释放对象" class="headerlink" title="3-9-1、malloc和free动态申请对象和释放对象"></a>3-9-1、malloc和free动态申请对象和释放对象</h3><p>使用malloc和free函数去动态申请对象,和释放申请的对象,不会调用构<br>造函数和析构函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;person无参构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;person析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    person* p = ( person* )<span class="built_in">malloc</span> ( <span class="built_in">sizeof</span> ( person ) );</span><br><span class="line">    <span class="built_in">free</span> ( p );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-9-2、-中动态申请对象和释放对象"><a href="#3-9-2、-中动态申请对象和释放对象" class="headerlink" title="3-9-2、++中动态申请对象和释放对象"></a>3-9-2、++中动态申请对象和释放对象</h3><p>类型 *p &#x3D; new  类型;<br>delete p;<br>申请数组:<br>类型 *p  &#x3D; new 类型[n];<br>delete []p;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;无参构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>;<span class="comment">//申请一块内存 sizeof(int)大小 并且对这块空间进行初始化</span></span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    *p = <span class="number">100</span>;</span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">delete</span> p;<span class="comment">//释放申请的空间</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//申请一个对象</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    person* p = <span class="keyword">new</span> person;<span class="comment">//sizeof(person)</span></span><br><span class="line">    <span class="keyword">delete</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//申请一个数组</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//new一个数组时,返回的是该数组的首元素的地址</span></span><br><span class="line">    <span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>[ <span class="number">10</span> ];</span><br><span class="line">    <span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        p[ i ] = i + <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; p[ i ] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">delete</span> [ ]p;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test03</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-9-3、new和delete"><a href="#3-9-3、new和delete" class="headerlink" title="3-9-3、new和delete"></a>3-9-3、new和delete</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test04</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="comment">//new时调用有参构造</span></span><br><span class="line"> person *p = <span class="keyword">new</span> <span class="built_in">person</span>(<span class="number">10</span>);</span><br><span class="line"> <span class="keyword">delete</span> p;</span><br><span class="line"> person *p1 = <span class="keyword">new</span> person[<span class="number">10</span>];<span class="comment">//注意new对象的数组时不能调用有参构造 只能调用无参构造</span></span><br><span class="line"> <span class="keyword">delete</span> []p1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-9-4、delete-void-问题"><a href="#3-9-4、delete-void-问题" class="headerlink" title="3-9-4、delete void *问题"></a>3-9-4、delete void *问题</h3><p> void test05()<br> {<br>  void *p &#x3D; new person;<br>  delete p;&#x2F;&#x2F; p的类型是void *所有不会调用析构函数<br> }</p>
<h3 id="3-9-5、使用new和delete采用相同形式"><a href="#3-9-5、使用new和delete采用相同形式" class="headerlink" title="3-9-5、使用new和delete采用相同形式"></a>3-9-5、使用new和delete采用相同形式</h3><ul>
<li>new单一对象时,使用delete释放单一的对象</li>
<li>new一个数组时,使用delete []释放这个数组</li>
</ul>
<h2 id="3-10、静态成员"><a href="#3-10、静态成员" class="headerlink" title="3-10、静态成员"></a>3-10、静态成员</h2><p>在类定义中，它的成员（包括成员变量和成员函数），这些成员可以用<br>关键字static声明为静态的，称为静态成员。<br>不管这个类创建了多少个对象，静态成员只有一个拷贝，这个拷贝被所<br>有属于这个类的对象共享。</p>
<h3 id="3-10-1、静态成员变量"><a href="#3-10-1、静态成员变量" class="headerlink" title="3-10-1、静态成员变量"></a>3-10-1、静态成员变量</h3><ul>
<li>静态成员变量在内存中只有一份,多个对象共享一个静态变量</li>
<li>静态成员变量,必须类内声明,类外定义</li>
<li>静态成员变量可以通过类的作用域访问</li>
<li>静态成员变量可以通过类的对象访问</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="comment">//静态成员变量不能再类内初始化 类内只能声明,定义在全局 声明的作用只是限制静态成员变量作用域</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> b;<span class="comment">//静态成员变量 在编译阶段就分配内存 存在静态全局区</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> person::b = <span class="number">10</span>;<span class="comment">//类中成员变量的定义</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    person p1;</span><br><span class="line">    p1.b = <span class="number">100</span>;</span><br><span class="line">    cout &lt;&lt; p1.b &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; person::b &lt;&lt; endl;<span class="comment">//通过类的作用域访问类的静态成员函数</span></span><br><span class="line">    <span class="comment">//cout &lt;&lt; person::a &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test02</span> ( );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-10-2、静态成员函数"><a href="#3-10-2、静态成员函数" class="headerlink" title="3-10-2、静态成员函数"></a>3-10-2、静态成员函数</h3><ul>
<li>静态成员函数能访问静态成员变量不能访问普通的成员变量</li>
<li>可以通过类的作用域访问静态成员函数</li>
<li>可以通过对象访问静态成员函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="comment">//静态成员变量不能再类内初始化 类内只能声明,定义在全局 声明的作用只是限制静态成员变量作用域</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> b;<span class="comment">//静态成员变量 在编译阶段就分配内存 存在静态全局区</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">static_show</span> <span class="params">( )</span><span class="comment">//静态成员函数 可以访问静态成员变量 不能访问普通的成员变量</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> person::b = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    person::<span class="built_in">static_show</span> ( );<span class="comment">//通过流类的作用域访问静态成员函数</span></span><br><span class="line">    person p1;</span><br><span class="line">    p1.<span class="built_in">static_show</span> ( );<span class="comment">//通过对象访问静态成员函数</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-10-3、const修饰的静态变量"><a href="#3-10-3、const修饰的静态变量" class="headerlink" title="3-10-3、const修饰的静态变量"></a>3-10-3、const修饰的静态变量</h3><ul>
<li>const修饰的静态成员变量保存在常量区,只读的,在内存中只有一份</li>
<li>const修饰的静态成员变量可以在类内定义且初始化</li>
<li>const修饰的静态成员变量可以通过类的作用域访问</li>
<li>const修饰的静态成员变量可以通过对象访问</li>
<li>静态成员函数可以访问const修饰的静态成员变量</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> num = <span class="number">10</span>;<span class="comment">//const修饰的全局变量保存在常量区 不可更改</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="comment">//静态成员变量不能再类内初始化 类内只能声明,定义在全局 声明的作用只是限制静态成员变量作用域</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> b;<span class="comment">//静态成员变量 在编译阶段就分配内存 存在静态全局区</span></span><br><span class="line">    <span class="type">const</span> <span class="type">static</span> <span class="type">int</span> c = <span class="number">1000</span>;<span class="comment">//const修饰的静态成员变量 是保存在常量区 不可修改(只读) 在内存中只有一份</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> person::b = <span class="number">10</span>;<span class="comment">//类中成员变量的定义</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; person::c &lt;&lt; endl;</span><br><span class="line">    person p1;</span><br><span class="line">    cout &lt;&lt; p1.c &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-10-4、单例模式"><a href="#3-10-4、单例模式" class="headerlink" title="3-10-4、单例模式"></a>3-10-4、单例模式</h3><p>单例模式: 一个类只能创建出一个对象<br>单例模式实现的步骤:</p>
<ul>
<li>将无参构造私有化</li>
<li>将拷贝构造私有化</li>
<li>定义一个静态的成员指针变量指向new出来的一个唯一对象</li>
<li>将静态的成员指针变量私有化,提供获得唯一对象的地址的静态接口</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Feifei</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  <span class="type">int</span> yanzhi;</span><br><span class="line">  <span class="function"><span class="type">static</span> Feifei * <span class="title">instance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> single;</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">private</span>:</span><br><span class="line">  <span class="type">static</span> Feifei *single;</span><br><span class="line">  <span class="built_in">Feifei</span>() <span class="comment">//无参构造私有化</span></span><br><span class="line">  &#123;&#125;</span><br><span class="line">  <span class="built_in">Feifei</span>(<span class="type">const</span> Feifei &amp;p)</span><br><span class="line">  &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#125;;</span><br><span class="line"> Feifei * Feifei::single = <span class="keyword">new</span> Feifei;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  Feifei * p = Feifei::<span class="built_in">instance</span>();</span><br><span class="line">  p-&gt;age = <span class="number">10</span>;</span><br><span class="line">  p-&gt;yanzhi = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">  Feifei * p1 = Feifei::<span class="built_in">instance</span>();</span><br><span class="line">  cout &lt;&lt; p1-&gt;age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p1-&gt;yanzhi &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="comment">//Feifei::single-&gt;age = 100;</span></span><br><span class="line">  <span class="comment">//Feifei::single-&gt;yanzhi = 100;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//Feifei p1(*Feifei::single);//调用拷贝构造实例化出一个对象</span></span><br><span class="line">  <span class="comment">// Feifei::single = NULL;</span></span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="comment">//Feifei p1;//需要调用无参构造</span></span><br><span class="line">  <span class="comment">//Feifei p2;</span></span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test03</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="4、类对象成员的初探"><a href="#4、类对象成员的初探" class="headerlink" title="4、类对象成员的初探"></a>4、类对象成员的初探</h1><h2 id="4-1、成员变量和函数的存储"><a href="#4-1、成员变量和函数的存储" class="headerlink" title="4-1、成员变量和函数的存储"></a>4-1、成员变量和函数的存储</h2><ul>
<li>类对象成员-普通成员变量占用对象空间大小</li>
<li>类对象成员-静态成员变量不占用对象空间大小</li>
<li>类对象成员-普通成员函数不占用对象空间大小</li>
<li>类对象成员-静态成员函数不占用对象空间大小</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> a;<span class="comment">//普通的成员变量</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> b;<span class="comment">//静态成员不存在类实例化的对象中</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span><span class="comment">//普通成员函数不存在类实例化的对象中</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">show1</span> <span class="params">( )</span><span class="comment">//静态成员函数 不存在类实例化的对象中</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> person::b = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    person p;</span><br><span class="line">    p.<span class="built_in">show</span> ( );</span><br><span class="line">    <span class="comment">//空类的大小不是0 而是1</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span> ( person ) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="4-2、this指针的工作原理"><a href="#4-2、this指针的工作原理" class="headerlink" title="4-2、this指针的工作原理"></a>4-2、this指针的工作原理</h2><ul>
<li>类的成员函数默认编译器都加上了一个this指针,这个this指针<br>指向调用该成员函数的对象</li>
</ul>
<h2 id="4-3、this指针的用法"><a href="#4-3、this指针的用法" class="headerlink" title="4-3、this指针的用法"></a>4-3、this指针的用法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( <span class="type">int</span> age , string name )<span class="comment">// this</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; age = age;</span><br><span class="line">        <span class="keyword">this</span>-&gt; name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">person <span class="title">person_add</span> <span class="params">( person&amp; p2 )</span><span class="comment">//this ‐‐‐‐‐‐&gt; p1</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="function">person <span class="title">p</span> <span class="params">( <span class="keyword">this</span>-&gt; age + p2.age , <span class="keyword">this</span>-&gt; name + p2.name )</span></span>;<span class="comment">//&quot;helloworld&quot;</span></span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    string name;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">person <span class="title">person_add</span> <span class="params">( person&amp; p1 , person&amp; p2 )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p</span> <span class="params">( p1.age + p2.age , p1.name + p2.name )</span></span>;<span class="comment">//&quot;helloworld&quot;</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p1</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;hello&quot;</span> )</span></span>;</span><br><span class="line">    <span class="function">person <span class="title">p2</span> <span class="params">( <span class="number">20</span> , <span class="string">&quot;world&quot;</span> )</span></span>;</span><br><span class="line">    <span class="comment">//p3 = p1 + p2 30,&quot;helloworld&quot;</span></span><br><span class="line">    <span class="comment">//person p3 = person_add(p1,p2);</span></span><br><span class="line">    <span class="comment">//p3.show();</span></span><br><span class="line">    person p3 = p1.<span class="built_in">person_add</span> ( p2 );</span><br><span class="line">    p3.<span class="built_in">show</span> ( );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p1</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">    p1.<span class="built_in">show</span> ( );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test02</span> ( );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-4、cconst修饰的成员函数"><a href="#4-4、cconst修饰的成员函数" class="headerlink" title="4-4、cconst修饰的成员函数"></a>4-4、cconst修饰的成员函数</h2><ul>
<li>在函数后面加上const,这个是一个常函数</li>
<li>这个const修饰的是指针 const type * const  this,代表不能<br>通过this指针去修改this指针指向对象的内容</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常函数 不能通过this指针修改this指针指向的对象内容</span></span><br><span class="line"> <span class="comment">//常量指针常量</span></span><br><span class="line"> <span class="function">person <span class="title">person_add</span><span class="params">( person &amp;p2)</span><span class="type">const</span><span class="comment">//const person * const this ‐‐‐‐‐‐&gt; p</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> <span class="comment">//this‐&gt;age = 200;</span></span><br><span class="line"> <span class="function">person <span class="title">p</span><span class="params">(<span class="keyword">this</span>‐&gt;age+p2.age,<span class="keyword">this</span>‐&gt;name+p2.name)</span></span>;<span class="comment">//&quot;helloworld&quot;</span></span><br><span class="line"> <span class="keyword">return</span> p;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h1 id="5、有元"><a href="#5、有元" class="headerlink" title="5、有元"></a>5、有元</h1><p>类的主要特点之一是数据隐藏，即类的私有成员无法在类的外部(作用<br>域之外)访问。但是，有时候需要在类的外部访问类的私有成员，怎么<br>办？<br>解决方法是使用友元函数，友元函数是一种特权函数，c++允许这个特<br>权函数访问私有成员。这一点从现实生活中也可以很好的理解：<br>比如你的家，有客厅，有你的卧室，那么你的客厅是Public的，所有来<br>的客人都可以进去，但是你的卧室是私有的，也就是说只有你能进去，<br>但是呢，你也可以允许你的闺蜜好基友进去。<br>如果想要让全局函数或一个类的成员函数访问另一个类私有成<br>员,只需要声明友元即可</p>
<h2 id="5-1、-友元的语法"><a href="#5-1、-友元的语法" class="headerlink" title="5-1、 友元的语法"></a>5-1、 友元的语法</h2><h3 id="5-1-1、全局函数成为类的友元"><a href="#5-1-1、全局函数成为类的友元" class="headerlink" title="5-1-1、全局函数成为类的友元"></a>5-1-1、全局函数成为类的友元</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">print_Building</span> <span class="params">( Building&amp; b )</span></span>;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Building</span> ( string hall , string bedroom )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; bedroom = bedroom;</span><br><span class="line">        <span class="keyword">this</span>-&gt; hall = hall;</span><br><span class="line">    &#125;</span><br><span class="line">    string hall;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    string bedroom;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_Building</span> <span class="params">( Building&amp; b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; b.hall &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b.bedroom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Building <span class="title">b1</span> <span class="params">( <span class="string">&quot;凌霄殿&quot;</span> , <span class="string">&quot;闺房&quot;</span> )</span></span>;</span><br><span class="line">    <span class="built_in">print_Building</span> ( b1 );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-2、类成为另一个类的友元-类的成员函数成为另一个类的友元"><a href="#5-2、类成为另一个类的友元-类的成员函数成为另一个类的友元" class="headerlink" title="5-2、类成为另一个类的友元,类的成员函数成为另一个类的友元"></a>5-2、类成为另一个类的友元,类的成员函数成为另一个类的友元</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Goodgay</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Goodgay</span> ( string hall , string bedroom );</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">visit</span> <span class="params">( )</span></span>;</span><br><span class="line">    Building* b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//friend void print_Building(Building &amp;b);</span></span><br><span class="line">    <span class="comment">//friend class Goodgay; //一个类成为另一个类的友元</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">Goodgay::visit</span> <span class="params">( )</span></span>;<span class="comment">//类的成员函数成为另一类的友元</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Building</span> ( string hall , string bedroom )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; bedroom = bedroom;</span><br><span class="line">        <span class="keyword">this</span>-&gt; hall = hall;</span><br><span class="line">    &#125;</span><br><span class="line">    string hall;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    string bedroom;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Goodgay::<span class="built_in">Goodgay</span> ( string hall , string bedroom )</span><br><span class="line">&#123;</span><br><span class="line">    b = <span class="keyword">new</span> <span class="built_in">Building</span> ( hall , bedroom );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Goodgay::visit</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; b-&gt; hall &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b-&gt; bedroom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Goodgay <span class="title">gd</span> <span class="params">( <span class="string">&quot;凌霄殿&quot;</span> , <span class="string">&quot;闺房&quot;</span> )</span></span>;</span><br><span class="line">    gd.<span class="built_in">visit</span> ( );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="6、运算符重载"><a href="#6、运算符重载" class="headerlink" title="6、运算符重载"></a>6、运算符重载</h1><h2 id="6-1、-运算符重载的基本概念"><a href="#6-1、-运算符重载的基本概念" class="headerlink" title="6-1、 运算符重载的基本概念"></a>6-1、 运算符重载的基本概念</h2><p>运算符重载: 就是给运算符赋予一个新的意义<br>int  a &#x3D;1;<br>int   b&#x3D;2;’<br>int  c &#x3D; a +b;<br>person p1;<br>person p2;<br>person p3&#x3D; p1+p2;<br>运算符只能运算内置的数据类型,对于自定义的数据类型,不能运算,所以<br>我们可以重载运算符</p>
<h2 id="6-2、重载加号运算符"><a href="#6-2、重载加号运算符" class="headerlink" title="6-2、重载加号运算符"></a>6-2、重载加号运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( <span class="type">int</span> age )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    person <span class="keyword">operator</span>+( person&amp; p2 )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">person <span class="title">p</span> <span class="params">( <span class="keyword">this</span>-&gt; age + p2.age )</span></span>;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//person operator+(person &amp;p1, person &amp;p2)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"> <span class="comment">// person p(p1.age+p2.age);</span></span><br><span class="line"> <span class="comment">// return p;</span></span><br><span class="line"> <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p1</span> <span class="params">( <span class="number">10</span> )</span></span>;</span><br><span class="line">    <span class="function">person <span class="title">p2</span> <span class="params">( <span class="number">20</span> )</span></span>;</span><br><span class="line">    person p3 = p1 + p2;<span class="comment">// operator+(p1,p2) p1.operator+(p2)</span></span><br><span class="line">    cout &lt;&lt; p3.age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-3、重载左移运算符和算符重载碰上友元函数"><a href="#6-3、重载左移运算符和算符重载碰上友元函数" class="headerlink" title="6-3、重载左移运算符和算符重载碰上友元函数"></a>6-3、重载左移运算符和算符重载碰上友元函数</h2><p>友元相当于声明</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;( ostream&amp; cout , person&amp; p );</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( <span class="type">int</span> age )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">        <span class="keyword">this</span> -&gt;num = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">int</span> num=<span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;( ostream&amp; cout , person&amp; p )</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; p.age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.num;</span><br><span class="line">    <span class="keyword">return</span> cout;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p1</span> <span class="params">( <span class="number">10</span> )</span></span>;</span><br><span class="line">    cout &lt;&lt; p1 &lt;&lt; endl;</span><br><span class="line">    <span class="comment">// operator&lt;&lt;(cout,p1) //cout.operator&lt;&lt;(p1)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="6-4、-可以重载的运算符"><a href="#6-4、-可以重载的运算符" class="headerlink" title="6-4、 可以重载的运算符"></a>6-4、 可以重载的运算符</h2><p><code>几几乎C中所有的运算符都可以重载，但运算符重载的使用时相当受限制的。特别是不能使用C中当前没有意义的运算符(例如用**求幂)不能改变运算符优先级，不能改变运算符的参数个数。这样的限制有意义，否则，所有这些行为产生的运算符只会混淆而不是澄清寓语意乎C中所有的运算符都可以重载，但运算符重载的使用时相当受限制的。特别是不能使用C中当前没有意义的运算符(例如用**求幂)不能改变运算符优先级，不能改变运算符的参数个数。这样的限制有意义，否则，所有这些行为产生的运算符只会混淆而不是澄清寓语意</code></p>
<h2 id="6-5、重载自加自减运算符"><a href="#6-5、重载自加自减运算符" class="headerlink" title="6-5、重载自加自减运算符"></a>6-5、重载自加自减运算符</h2><p>++a   ; 先自加 在使用<br>a++;&#x2F;&#x2F;先使用 在自加<br>前置加加返回的是引用<br>后置加加返回的是对象<br>前置加加调用TYPE&amp; operator++()函数<br>后再加加调用的是TYPE operator++(int)函数,也就是后置加<br>加多了一个占位参数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myint</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Myint</span> ( <span class="type">int</span> num )<span class="comment">//this</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; num = num;</span><br><span class="line">    &#125;</span><br><span class="line">    Myint&amp; <span class="keyword">operator</span>++( )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;num = <span class="keyword">this</span>-&gt;num + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Myint <span class="keyword">operator</span>++( <span class="type">int</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        Myint tmp = *<span class="keyword">this</span>;</span><br><span class="line">        <span class="comment">//加加</span></span><br><span class="line">        <span class="keyword">this</span>-&gt; num = <span class="keyword">this</span>-&gt; num + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">&#125;;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;( ostream&amp; cout ,<span class="type">const</span> Myint&amp; p )</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; p.num;</span><br><span class="line">    <span class="keyword">return</span> cout;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Myint <span class="title">p1</span> <span class="params">( <span class="number">10</span> )</span></span>;</span><br><span class="line">    cout &lt;&lt; p1 &lt;&lt; endl;</span><br><span class="line">    ++p1;<span class="comment">//operator++(p1) p1.operator++()</span></span><br><span class="line">    cout &lt;&lt; ++p1 &lt;&lt; endl;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; p1++ &lt;&lt; endl;//p1.operator++(int)</span></span><br><span class="line">    cout &lt;&lt; p1++ &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; p1 &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-6、智能指针"><a href="#6-6、智能指针" class="headerlink" title="6-6、智能指针"></a>6-6、智能指针</h2><p>我们经常new一个对象,忘记释放,所以我们使用智能指针来维护<br>智能指针实质是一个局部对象,这个局部对象维护了new出来的对象的<br>地址,在局部对象的析构函数中,会帮忙释放new出来的对象<br>对于智能指针我们重载了-&gt; 和* 让指针指针和普通指针一样使用</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( <span class="type">int</span> age )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Smartpointer</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Smartpointer</span> ( person* p1 )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt; p = p1;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Smartpointer</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> p;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;释放了p&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    person* <span class="keyword">operator</span>-&gt; ( )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    person&amp; <span class="keyword">operator</span>*( )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> *p;</span><br><span class="line">    &#125;</span><br><span class="line">    person* p;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 局部对象 在释放之前可以帮助释放 p,</span></span><br><span class="line">    <span class="comment">//person *p = new person(10);</span></span><br><span class="line">    <span class="function">Smartpointer <span class="title">sp</span> <span class="params">( <span class="keyword">new</span> person ( <span class="number">10</span> ) )</span></span>;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; p‐&gt;age &lt;&lt; endl;</span></span><br><span class="line">    cout &lt;&lt; sp-&gt; age &lt;&lt; endl;<span class="comment">//sp‐&gt; 返回的是p p sp.operator‐&gt;()</span></span><br><span class="line">    cout &lt;&lt; ( *sp ).age &lt;&lt; endl;<span class="comment">//sp.operator*()</span></span><br><span class="line">    <span class="comment">//忘记释放p指向申请的对象</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-7、重载-号运算符"><a href="#6-7、重载-号运算符" class="headerlink" title="6-7、重载&#x3D;号运算符"></a>6-7、重载&#x3D;号运算符</h2><p>编译器默认给每一个类加上了4个函数</p>
<ul>
<li>默认无参构造</li>
<li>默认的拷贝构造</li>
<li>析构</li>
<li>operator&#x3D;()<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">person</span> ( <span class="type">int</span> age1 , <span class="type">char</span>* name1 )</span><br><span class="line">    &#123;</span><br><span class="line">        age = age1;</span><br><span class="line">        name = <span class="keyword">new</span> <span class="type">char</span>[ <span class="built_in">strlen</span> ( name1 ) + <span class="number">1</span> ];</span><br><span class="line">        <span class="built_in">strcpy</span> ( name , name1 );</span><br><span class="line">    &#125;</span><br><span class="line">    person&amp; <span class="keyword">operator</span>=( person&amp; p1 )<span class="comment">//this- ..&gt; p2</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age = p1.age;</span><br><span class="line">        <span class="keyword">this</span>-&gt;name = <span class="keyword">new</span> <span class="type">char</span>[ <span class="built_in">strlen</span> ( p1.name ) + <span class="number">1</span> ];</span><br><span class="line">        <span class="built_in">strcpy</span> ( <span class="keyword">this</span>-&gt;name , p1.name );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">person</span> ( )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> [ ]name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span>* name;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p1</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;bob&quot;</span> )</span></span>;</span><br><span class="line">    person p2;</span><br><span class="line">    p2 = p1;<span class="comment">//p2.operator=(p1)</span></span><br><span class="line">    cout &lt;&lt; p2.age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p2.name &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="6-8、重载不等号"><a href="#6-8、重载不等号" class="headerlink" title="6-8、重载不等号"></a>6-8、重载不等号</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span> ( <span class="type">int</span> age , string name )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">        <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>==( person&amp; p2 )<span class="comment">//this-&gt;&gt;&gt;p1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;age == p2.age &amp;&amp; <span class="keyword">this</span>-&gt;name == p2.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>!=( person&amp; p2 )<span class="comment">//this-&gt;&gt;&gt;p1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;age != p2.age || <span class="keyword">this</span>-&gt;name != p2.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    string name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">person <span class="title">p1</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">    <span class="function">person <span class="title">p2</span> <span class="params">( <span class="number">20</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">    <span class="keyword">if</span> ( p1 == p2 )<span class="comment">//p1.operator==(p2)</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1 == p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ( p1 != p2 )<span class="comment">//p1.operator!=(p2)</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1 != p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-9、函数对象"><a href="#6-9、函数对象" class="headerlink" title="6-9、函数对象"></a>6-9、函数对象</h2><p>一个类中重载了()的类,那么整个类定义处来的对象可以像函数一样使用,本质是调用了operator()整个函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myadd</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x+ y;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="comment">//Myadd p;</span></span><br><span class="line">  <span class="comment">//cout &lt;&lt; p.add(3, 4) &lt;&lt; endl;</span></span><br><span class="line">  <span class="comment">// p() 可以像函数一样调用的对象 函数对象</span></span><br><span class="line">  <span class="comment">//cout &lt;&lt; p(3, 4) &lt;&lt; endl;//p.operator()(3,4)</span></span><br><span class="line">  cout &lt;&lt; <span class="built_in">Myadd</span> ()(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; endl;<span class="comment">//匿名对象 Myadd ().operator()(3,4)</span></span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="6-10、不要重载-和"><a href="#6-10、不要重载-和" class="headerlink" title="6-10、不要重载&amp;&amp;和||"></a>6-10、不要重载&amp;&amp;和||</h3><p>不能重载operator&amp;&amp; 和 operator|| 的原因是，无法在这两种情况下<br>实现内置操作符的完整语义。说得更具体一些，内置版本版本特殊之处<br>在于：内置版本的&amp;&amp;和||首先计算左边的表达式，如果这完全能够决<br>定结果，就无需计算右边的表达式了‐‐而且能够保证不需要。我们都已<br>经习惯这种方便的特性了。<br>我们说操作符重载其实是另一种形式的函数调用而已，对于函数调用总<br>是在函数执行之前对所有参数进行求值</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"> <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Complex</span>(<span class="type">int</span> flag)&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;flag = flag;</span><br><span class="line">&#125;</span><br><span class="line">Complex&amp; <span class="keyword">operator</span>+=(Complex&amp; complex)&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;flag = <span class="keyword">this</span>-&gt;flag + complex.flag;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="type">bool</span> <span class="keyword">operator</span>&amp;&amp;(Complex&amp; complex)&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">this</span>-&gt;flag &amp;&amp; complex.flag;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line"> <span class="type">int</span> flag;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="function">Complex <span class="title">complex1</span><span class="params">(<span class="number">0</span>)</span></span>;  <span class="comment">//flag 0</span></span><br><span class="line"> <span class="function">Complex <span class="title">complex2</span><span class="params">(<span class="number">1</span>)</span></span>;  <span class="comment">//flag 1</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//原来情况，应该从左往右运算，左边为假，则退出运算，结果为假</span></span><br><span class="line"> <span class="comment">//这边却是，先运算（complex1+complex2），导致，complex1的flag变为complex1+complex2的值， complex1.a = 1</span></span><br><span class="line"> <span class="comment">// 1 &amp;&amp; 1</span></span><br><span class="line"> <span class="comment">//complex1.operator&amp;&amp;(complex1.operator+=(complex2))</span></span><br><span class="line"> <span class="keyword">if</span> (complex1 &amp;&amp; (complex1 += complex2))&#123;  </span><br><span class="line">         <span class="comment">//complex1.operator+=(complex2)</span></span><br><span class="line"> cout &lt;&lt; <span class="string">&quot;真!&quot;</span> &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span>&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot;假!&quot;</span> &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-11、重载运算符建议"><a href="#6-11、重载运算符建议" class="headerlink" title="6-11、重载运算符建议"></a>6-11、重载运算符建议</h2><p>&#x3D;, [], () 和 ‐&gt; 操作符只能通过成员函数进行重载<br>  &lt;&lt; 和 &gt;&gt;只能通过全局函数配合友元函数进行重载<br>  不要重载 &amp;&amp; 和 || 操作符，因为无法实现短路规则</p>
<h2 id="6-12、封装string类"><a href="#6-12、封装string类" class="headerlink" title="6-12、封装string类"></a>6-12、封装string类</h2><p>略</p>
<h2 id="6-13、优先级"><a href="#6-13、优先级" class="headerlink" title="6-13、优先级"></a>6-13、优先级</h2><p>略</p>
<h1 id="7、继承"><a href="#7、继承" class="headerlink" title="7、继承"></a>7、继承</h1><h3 id="7-1、继承概念"><a href="#7-1、继承概念" class="headerlink" title="7-1、继承概念"></a>7-1、继承概念</h3><h3 id="7-1-1、为什么需要继承为什么需要继承"><a href="#7-1-1、为什么需要继承为什么需要继承" class="headerlink" title="7-1-1、为什么需要继承为什么需要继承"></a>7-1-1、为什么需要继承为什么需要继承</h3><p>全部都重新定义，代码重复比较严重</p>
<h3 id="7-1-2、继承的好处"><a href="#7-1-2、继承的好处" class="headerlink" title="7-1-2、继承的好处"></a>7-1-2、继承的好处</h3><p>c++最重要的特征是代码重用，通过继承机制可以利用已有的数据类型<br>来定义新的数据类型，新的类不仅拥有旧类的成员，还拥有新定义的成<br>员。<br>一个B类继承于A类，或称从类A派生类B。这样的话，类A成为基类（父<br>类）， 类B成为派生类（子类）。<br>派生类中的成员，包含两大部分：<br>  一类是从基类继承过来的，一类是自己增加的成员。<br>  从基类继承过过来的表现其共性，而新增的成员体现了其个性。</p>
<h3 id="7-2、继承方法"><a href="#7-2、继承方法" class="headerlink" title="7-2、继承方法"></a>7-2、继承方法</h3><p>派生类定义格式：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class 派生类名 :  继承方式 基类名&#123;</span><br><span class="line">      <span class="comment">//派生类新增的数据成员和成员函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>三种继承方式：<br>  public ： 公有继承<br>  private ： 私有继承<br>  protected ： 保护继承</p>
<h3 id="7-2-1、派生类访问权限控制"><a href="#7-2-1、派生类访问权限控制" class="headerlink" title="7-2-1、派生类访问权限控制"></a>7-2-1、派生类访问权限控制</h3><p><img src="./../../../../img/7_linux%E5%BC%80%E5%8F%91/cpp/linuxCpp/%E7%BB%A7%E6%89%BF.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line">  <span class="keyword">protected</span>:</span><br><span class="line">  <span class="type">int</span> b;</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  <span class="type">int</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//公有的继承方式 基类中是什么控制权限,继承到子类中也是什么控制权限</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> :<span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  public:</span></span><br><span class="line"><span class="comment">  int a;</span></span><br><span class="line"><span class="comment">  protected:</span></span><br><span class="line"><span class="comment">  int b;</span></span><br><span class="line"><span class="comment">  private:</span></span><br><span class="line"><span class="comment">  int c;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> d;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="comment">//子类的成员函数去访问父类的成员 子类不可以访父类的私有成员</span></span><br><span class="line">    <span class="comment">//cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; endl;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> :<span class="keyword">protected</span> Base</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  //公有继承 将父类中的公有的权限变成保护的,其他不变</span></span><br><span class="line"><span class="comment">  protected:</span></span><br><span class="line"><span class="comment">  int a;</span></span><br><span class="line"><span class="comment">  protected:</span></span><br><span class="line"><span class="comment">  int b;</span></span><br><span class="line"><span class="comment">  private:</span></span><br><span class="line"><span class="comment">  int c;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> d;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="comment">//子类访问父类 不能访问父类的私有成员</span></span><br><span class="line">    <span class="comment">//cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; d &lt;&lt; endl;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">private</span> Base</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//私有继承 会将所有的权限都变成私有的</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  private:</span></span><br><span class="line"><span class="comment">  int a;</span></span><br><span class="line"><span class="comment">  private:</span></span><br><span class="line"><span class="comment">  int b;</span></span><br><span class="line"><span class="comment">  private:</span></span><br><span class="line"><span class="comment">  int c;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> d;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; d &lt;&lt; endl;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  A p;</span><br><span class="line">  <span class="comment">//p通过类外可以访问公有的权限</span></span><br><span class="line">  p.a = <span class="number">10</span>;</span><br><span class="line">  p.d = <span class="number">20</span>;</span><br><span class="line">  B p1;</span><br><span class="line">  <span class="comment">//p1.a = 100;</span></span><br><span class="line">  p1.d = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">  C p2;</span><br><span class="line">  <span class="comment">//p2.a = 100;</span></span><br><span class="line">  p2.d = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-3、继承中的析构和构造"><a href="#7-3、继承中的析构和构造" class="headerlink" title="7-3、继承中的析构和构造"></a>7-3、继承中的析构和构造</h2><h3 id="7-3-1、继承中的对象模型"><a href="#7-3-1、继承中的对象模型" class="headerlink" title="7-3-1、继承中的对象模型"></a>7-3-1、继承中的对象模型</h3><p>在C++编译器的内部可以理解为结构体，子类是由父类成员叠加子类新成员而成：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Aclass</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> mA;</span><br><span class="line">  <span class="type">int</span> mB;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bclass</span> : <span class="keyword">public</span> Aclass</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> mC;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cclass</span> : <span class="keyword">public</span> Bclass</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> mD;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;A size:&quot;</span> &lt;&lt; <span class="built_in">sizeof</span> ( Aclass ) &lt;&lt; endl;<span class="comment">//8</span></span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;B size:&quot;</span> &lt;&lt; <span class="built_in">sizeof</span> ( Bclass ) &lt;&lt; endl;<span class="comment">//12</span></span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;C size:&quot;</span> &lt;&lt; <span class="built_in">sizeof</span> ( Cclass ) &lt;&lt; endl;<span class="comment">//16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">main</span> ( )</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">test</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="7-3-2、对象构造和析构的调用原则"><a href="#7-3-2、对象构造和析构的调用原则" class="headerlink" title="7-3-2、对象构造和析构的调用原则"></a>7-3-2、对象构造和析构的调用原则</h3><p>继承中的构造和析构<br> 子类对象在创建时会首先调用父类的构造函数,父类构造函数执行完毕后，才会调用子类的构造函数<br> 当父类构造函数有参数时，需要在子类初始化列表(参数列表)中显示调用父类构造函数<br> 析构函数调用顺序和构造函数相反<br> <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Base</span> ( <span class="type">int</span> age , string name )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">    <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Base的构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  ~<span class="built_in">Base</span> ( )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Base的析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  string name;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//创建子类对象时,必须先构建父类 需要调用父类的构造函数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> :<span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Son</span> ( <span class="type">int</span> id , <span class="type">int</span> age , string name ) :<span class="built_in">Base</span> ( age , name )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;id = id;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Son 的构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  ~<span class="built_in">Son</span> ( )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Son 的析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Son <span class="title">p</span> <span class="params">( <span class="number">10</span> , <span class="number">18</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="7-3-3、继承中同名成员的处理问题"><a href="#7-3-3、继承中同名成员的处理问题" class="headerlink" title="7-3-3、继承中同名成员的处理问题"></a>7-3-3、继承中同名成员的处理问题</h3><p> 如果子类和父类有同名的成员变量和成员函数,发送继承时,父类的成员变量和成员函数会被<br>隐藏</p>
<h3 id="7-3-4、非自动继承的函数"><a href="#7-3-4、非自动继承的函数" class="headerlink" title="7-3-4、非自动继承的函数"></a>7-3-4、非自动继承的函数</h3><p>发送继承时,子类不会继承父类的构造函数 ,析构函数和operator&#x3D;函数</p>
<h3 id="7-3-5、继承中的静态成员特性"><a href="#7-3-5、继承中的静态成员特性" class="headerlink" title="7-3-5、继承中的静态成员特性"></a>7-3-5、继承中的静态成员特性</h3><p>发送继承时,子类和父类有同名的静态成员函数或静态成员变量.父类中的静态成员函数或静<br>态成员变量会被隐藏</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getNum</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sNum;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getNum</span> <span class="params">( <span class="type">int</span> param )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sNum + param;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> sNum;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> Base::sNum = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> sNum; <span class="comment">//基类静态成员属性将被隐藏</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">  <span class="comment">//重定义一个函数，基类中重载的函数被隐藏</span></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getNum</span> <span class="params">( <span class="type">int</span> param1 , <span class="type">int</span> param2 )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sNum + param1 + param2;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">  <span class="comment">//改变基类函数的某个特征，返回值或者参数个数，将会隐藏基类重载的函数</span></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">getNum</span> <span class="params">( <span class="type">int</span> param1 , <span class="type">int</span> param2 )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; sNum + param1 + param2 &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> Derived::sNum = <span class="number">20</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Derived p1;</span><br><span class="line">  <span class="comment">//如果子类和父类有同名的静态成员变量,父类中的静态成员变量会被隐藏</span></span><br><span class="line">  cout &lt;&lt; p1.sNum &lt;&lt; endl;</span><br><span class="line">  <span class="comment">//如果子类和父类有同名的静态成员函数,父类中的静态成员函数都会被隐藏</span></span><br><span class="line">  p1.<span class="built_in">getNum</span> ( <span class="number">1</span> , <span class="number">2</span> );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-4、多继承"><a href="#7-4、多继承" class="headerlink" title="7-4、多继承"></a>7-4、多继承</h2><h3 id="7-4-1、多继承的概念"><a href="#7-4-1、多继承的概念" class="headerlink" title="7-4-1、多继承的概念"></a>7-4-1、多继承的概念</h3><p>一个类继承了多个类</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> :<span class="keyword">public</span> A , <span class="keyword">public</span> B</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> c;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  C p;</span><br><span class="line">  p.A::a = <span class="number">10</span>;</span><br><span class="line">  p.B::a = <span class="number">10</span>;</span><br><span class="line">  <span class="comment">//p.b = 20;</span></span><br><span class="line">  p.c = <span class="number">30</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="7-4-2、菱形继承和虚继承"><a href="#7-4-2、菱形继承和虚继承" class="headerlink" title="7-4-2、菱形继承和虚继承"></a>7-4-2、菱形继承和虚继承</h3><p><img src="./../../../../img/7_linux%E5%BC%80%E5%8F%91/cpp/linuxCpp/%E5%A4%9A%E7%BB%A7%E6%89%BF.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">animal</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sheep</span> :<span class="keyword">virtual</span> <span class="keyword">public</span> animal</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> id;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">camel</span> :<span class="keyword">virtual</span> <span class="keyword">public</span> animal</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> camel_num;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shenshou</span> :<span class="keyword">public</span> sheep , <span class="keyword">public</span> camel</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  Shenshou p;</span><br><span class="line">  <span class="comment">//p.sheep::age = 100;</span></span><br><span class="line">  p.age = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="7-4-3、虚继承的实现原理"><a href="#7-4-3、虚继承的实现原理" class="headerlink" title="7-4-3、虚继承的实现原理"></a>7-4-3、虚继承的实现原理</h3><p><code>有点难理解</code><br>遇到再说</p>
<h1 id="8、多态"><a href="#8、多态" class="headerlink" title="8、多态"></a>8、多态</h1><h2 id="8-1、多态的概念"><a href="#8-1、多态的概念" class="headerlink" title="8-1、多态的概念"></a>8-1、多态的概念</h2><p>多态: 一种接口,多种形态<br>静态多态:  编译时,地址早绑定(静态联编)  foo(int)    foo()<br>动态多态:   运行时,才确定需要调用的地址(动态联编)</p>
<p>发送多态的四个条件:<br>父类中有虚函数<br>必须发送继承<br>子类必须重写虚函数(函数的返回值 函数名 参数一致 函数内容可以不一致)<br>父类的指针或引用指向子类的对象</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span> <span class="params">( )</span> <span class="comment">//虚函数</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;动物在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> :<span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">//重写虚函数 函数的返回值 参数 函数名一致</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">speak</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;狗在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> :<span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">speak</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;猫在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//如果两个类发生了继承 父类和子类编译器会自动转换.不需要人为转换</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">do_work</span> <span class="params">( Animal&amp; obj )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  obj.<span class="built_in">speak</span> ( );<span class="comment">//地址早绑定 ‐&gt; 加上函数前面加上virtual关键字 地址晚绑定</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Animal p1;</span><br><span class="line">  <span class="built_in">do_work</span> ( p1 );</span><br><span class="line"></span><br><span class="line">  Dog p2;</span><br><span class="line">  <span class="built_in">do_work</span> ( p2 );</span><br><span class="line"></span><br><span class="line">  Cat p3;</span><br><span class="line">  <span class="built_in">do_work</span> ( p3 );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-2、多态实现计算器的案例"><a href="#8-2、多态实现计算器的案例" class="headerlink" title="8-2、多态实现计算器的案例"></a>8-2、多态实现计算器的案例</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//开发时 对源码的修改是关闭的 对扩展是开发的</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mycalc</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">calc</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b,string cmd)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( cmd == <span class="string">&quot;+&quot;</span> )</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="string">&quot;-&quot;</span>)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="string">&quot;*&quot;</span>)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  Mycalc p;</span><br><span class="line">  cout &lt;&lt; p.<span class="built_in">calc</span>(<span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;+&quot;</span>) &lt;&lt; endl;</span><br><span class="line">  cout &lt;&lt; p.<span class="built_in">calc</span>(<span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;-&quot;</span>) &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">/*******************************************************************/</span></span><br><span class="line"> <span class="comment">//多态实现计算器案例</span></span><br><span class="line"> <span class="keyword">class</span> <span class="title class_">Calc</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">mycalc</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> <span class="title class_">Add</span> :<span class="keyword">public</span> Calc</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">mycalc</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="keyword">class</span> <span class="title class_">Sub</span> :<span class="keyword">public</span> Calc</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">mycalc</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="keyword">class</span> <span class="title class_">Mul</span> :<span class="keyword">public</span> Calc</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">mycalc</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">do_calc</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, Calc &amp;obj)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> obj.<span class="built_in">mycalc</span>(a, b);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  Add p;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">do_calc</span>(<span class="number">2</span>,<span class="number">3</span>,p) &lt;&lt;endl;</span><br><span class="line">  Sub p1;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">do_calc</span>(<span class="number">2</span>, <span class="number">3</span>, p1) &lt;&lt; endl;</span><br><span class="line">  Mul p2;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">do_calc</span>(<span class="number">2</span>, <span class="number">3</span>, p2) &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-3、-c-如何实现动态绑定"><a href="#8-3、-c-如何实现动态绑定" class="headerlink" title="8-3、 c++如何实现动态绑定"></a>8-3、 c++如何实现动态绑定</h3><p>略</p>
<h3 id="8-4、纯虚函数和抽象类"><a href="#8-4、纯虚函数和抽象类" class="headerlink" title="8-4、纯虚函数和抽象类"></a>8-4、纯虚函数和抽象类</h3><p>纯虚函数: 将虚函数 等于0  实质是将虚函数 表的函数入口地址置为NULL<br>抽象类:一个类中如果有纯虚函数,那么这个类就是一个抽象类,抽象类不能实例化对象<br>继承抽象类的子类也是一个抽象类,如果子类重写了虚函数,那么子类就不是抽象类</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//多态实现计算器案例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calc</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">mycalc</span> <span class="params">( <span class="type">int</span> a , <span class="type">int</span> b )</span> </span>= <span class="number">0</span>;<span class="comment">//虚函数等于0 纯虚函数</span></span><br><span class="line">  <span class="comment">/*&#123;</span></span><br><span class="line"><span class="comment">  return 0;</span></span><br><span class="line"><span class="comment">  &#125;*/</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mod</span> :<span class="keyword">public</span> Calc</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">//子类继承了抽象类,那么子类也是一个抽象类</span></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">mycalc</span> <span class="params">( <span class="type">int</span> a , <span class="type">int</span> b )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  &#125;<span class="comment">//如果子类重写类虚函数 就不是抽象类</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果有纯虚函数的类 叫做抽象类 抽象类不能实例化对象</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//Calc p;</span></span><br><span class="line">  Mod p1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-5、纯虚函数和多继承"><a href="#8-5、纯虚函数和多继承" class="headerlink" title="8-5、纯虚函数和多继承"></a>8-5、纯虚函数和多继承</h3><p>多继承带来了一些争议，但是接口继承可以说一种毫无争议的运用了。<br>绝大数面向对象语言都不支持多继承，但是绝大数面向对象对象语言都支持接口的概念，<br>c++中没有接口的概念，但是可以通过纯虚函数实现接口。<br>接口类中只有函数原型定义，没有任何数据定义。<br>多重继承接口不会带来二义性和复杂性问题。接口类只是一个功能声明，并不是功能实现，<br>子类需要根据功能说明定义功能实现。<br><code>注意:除了析构函数外，其他声明都是纯虚函数。</code></p>
<h3 id="8-6、虚析构"><a href="#8-6、虚析构" class="headerlink" title="8-6、虚析构"></a>8-6、虚析构</h3><p>作用:在调用基类的析构函数之前,会先调用子类的析构函</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span> <span class="params">( )</span> <span class="comment">//虚函数</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;动物在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">virtual</span> ~<span class="built_in">Animal</span> ( )<span class="comment">//虚析构 作用 在调用基类的析构函数之前,会先调用子类的析构函数</span></span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Animal的析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> :<span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">//重写虚函数 函数的返回值 参数 函数名一直</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">speak</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;狗在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  ~<span class="built_in">Dog</span> ( )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;狗的析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">do_work</span> <span class="params">( Animal&amp; obj )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  obj.<span class="built_in">speak</span> ( );<span class="comment">//地址早绑定 -&gt; 加上函数前面加上virtual关键字 地址晚绑定</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Animal* p = <span class="keyword">new</span> Dog;</span><br><span class="line">  p-&gt;<span class="built_in">speak</span> ( );</span><br><span class="line">  <span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="8-7、纯虚析构"><a href="#8-7、纯虚析构" class="headerlink" title="8-7、纯虚析构"></a>8-7、纯虚析构</h3><p>虚析构函数等于0</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span> <span class="params">( )</span> <span class="comment">//虚函数</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;动物在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">virtual</span> ~<span class="built_in">Animal</span> ( ) = <span class="number">0</span>;<span class="comment">//纯虚析构</span></span><br><span class="line">  <span class="comment">/*&#123;</span></span><br><span class="line"><span class="comment">   cout &lt;&lt; &quot;Animal的析构&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">   &#125;*/</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="8-8、重载-重定义-重写"><a href="#8-8、重载-重定义-重写" class="headerlink" title="8-8、重载 重定义 重写"></a>8-8、重载 重定义 重写</h3><p>重载:</p>
<ul>
<li>函数名相同</li>
<li>同一个作用域</li>
<li>参数的个数,顺序,类型不一致</li>
<li>const也可以成为重载的条件<br>重定义:</li>
<li>发生继承</li>
<li>子类和父类有同名的变量和函数,父类中同名的变量和函数会<br>被隐藏<br>重写:</li>
<li>父类中有虚函数</li>
<li>发生了继承</li>
<li>子类重写了虚函数  函数名 返回值 参数一致,函数体不一致</li>
</ul>
<h1 id="第九章-模板"><a href="#第九章-模板" class="headerlink" title="第九章 模板"></a>第九章 模板</h1><h2 id="9-1、模板的简单介绍"><a href="#9-1、模板的简单介绍" class="headerlink" title="9-1、模板的简单介绍"></a>9-1、模板的简单介绍</h2><p>函数模板: 形参的类型不具体指定,用通用类型代替,在调用时,编译器会<br>根据实参的类型推导出形参的类型(类型参数化)</p>
<h2 id="9-2、函数模板"><a href="#9-2、函数模板" class="headerlink" title="9-2、函数模板"></a>9-2、函数模板</h2><h3 id="9-2-1、什么是函数模板"><a href="#9-2-1、什么是函数模板" class="headerlink" title="9-2-1、什么是函数模板"></a>9-2-1、什么是函数模板</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">( <span class="type">int</span>&amp; x , <span class="type">int</span>&amp; y )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> temp = x;</span><br><span class="line">  x = y;</span><br><span class="line">  y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">( <span class="type">char</span>&amp; x , <span class="type">char</span>&amp; y )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> temp = x;</span><br><span class="line">  x = y;</span><br><span class="line">  y = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">swap</span> ( a , b );</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">swap</span> ( a , b );</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数模板来实现</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;<span class="comment">//定义一个模板 模板的通用类型为T</span></span><br><span class="line"><span class="comment">//紧跟函数的定义</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap_temp</span> <span class="params">( T&amp; a , T&amp; b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  T temp = a;</span><br><span class="line">  a = b;</span><br><span class="line">  b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="type">int</span> c = <span class="number">3</span>;</span><br><span class="line">  <span class="type">int</span> d = <span class="number">4</span>;</span><br><span class="line">  <span class="built_in">swap_temp</span> ( a , b );<span class="comment">//自动推导</span></span><br><span class="line">  <span class="comment">//swap_temp(a,c); 自动类型推导的结果不一致</span></span><br><span class="line">  <span class="built_in">swap_temp</span> ( c , d );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="10-、模板"><a href="#10-、模板" class="headerlink" title="10 、模板"></a>10 、模板</h1><h2 id="10-1、模板的简单介绍"><a href="#10-1、模板的简单介绍" class="headerlink" title="10-1、模板的简单介绍"></a>10-1、模板的简单介绍</h2><p>函数模板: 形参的类型不具体指定,用通用类型代替,在调用时,编译器会根据实参的类型推导出形参的类型(类型参数化)</p>
<h2 id="10-2、函数模板"><a href="#10-2、函数模板" class="headerlink" title="10-2、函数模板"></a>10-2、函数模板</h2><h3 id="10-2-1、什么是函数模板"><a href="#10-2-1、什么是函数模板" class="headerlink" title="10-2-1、什么是函数模板"></a>10-2-1、什么是函数模板</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">( <span class="type">int</span>&amp; x , <span class="type">int</span>&amp; y )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> temp = x;</span><br><span class="line">  x = y;</span><br><span class="line">  y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">( <span class="type">char</span>&amp; x , <span class="type">char</span>&amp; y )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> temp = x;</span><br><span class="line">  x = y;</span><br><span class="line">  y = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">swap</span> ( a , b );</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">swap</span> ( a , b );</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数模板来实现</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;<span class="comment">//定义一个模板 模板的通用类型为T</span></span><br><span class="line"><span class="comment">//紧跟函数的定义</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap_temp</span> <span class="params">( T&amp; a , T&amp; b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  T temp = a;</span><br><span class="line">  a = b;</span><br><span class="line">  b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="type">int</span> c = <span class="number">3</span>;</span><br><span class="line">  <span class="type">int</span> d = <span class="number">4</span>;</span><br><span class="line">  <span class="built_in">swap_temp</span> ( a , b );<span class="comment">//自动推导</span></span><br><span class="line">  <span class="comment">// swap_temp(a,c); //自动类型推导的结果不一致</span></span><br><span class="line">  <span class="built_in">swap_temp</span> ( c , d );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10-2-2、函数模板练习"><a href="#10-2-2、函数模板练习" class="headerlink" title="10-2-2、函数模板练习"></a>10-2-2、函数模板练习</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//函数模板 用于排序</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">array_sort</span> <span class="params">( T* a , <span class="type">int</span> n )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++ )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++ )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( a[ i ] &gt; a[ j ] )</span><br><span class="line">      &#123;</span><br><span class="line">        T temp = a[ i ];</span><br><span class="line">        a[ i ] = a[ j ];</span><br><span class="line">        a[ j ] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_array</span> <span class="params">( T* p , <span class="type">int</span> n )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++ )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; p[ i ] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> a[ <span class="number">10</span> ] = &#123; <span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">88</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">69</span>,<span class="number">0</span> &#125;;</span><br><span class="line">  <span class="built_in">array_sort</span> ( a , <span class="built_in">sizeof</span> ( a ) / <span class="built_in">sizeof</span> ( a[ <span class="number">0</span> ] ) );</span><br><span class="line">  <span class="built_in">print_array</span> ( a , <span class="built_in">sizeof</span> ( a ) / <span class="built_in">sizeof</span> ( a[ <span class="number">0</span> ] ) );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">double</span> b[ <span class="number">5</span> ] = &#123; <span class="number">3.1</span> ,<span class="number">4.5</span> ,<span class="number">2.1</span> ,<span class="number">5.6</span> ,<span class="number">1.1</span> &#125;;</span><br><span class="line">  <span class="built_in">array_sort</span>&lt;<span class="type">double</span>&gt; ( b , <span class="built_in">sizeof</span> ( b ) / <span class="built_in">sizeof</span> ( b[ <span class="number">0</span> ] ) );</span><br><span class="line">  <span class="built_in">print_array</span>&lt;<span class="type">double</span>&gt; ( b , <span class="built_in">sizeof</span> ( b ) / <span class="built_in">sizeof</span> ( b[ <span class="number">0</span> ] ) );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-2-3、函数模板区别"><a href="#10-2-3、函数模板区别" class="headerlink" title="10-2-3、函数模板区别"></a>10-2-3、函数模板区别</h3><ul>
<li>函数模板不能自动进行类型转换</li>
<li>普通函数可以自动进行类型转换</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Myadd</span> <span class="params">( <span class="type">int</span> a , <span class="type">int</span> b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;普通函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">Myadd</span> <span class="params">( T a , T b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;模板函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">Myadd</span> ( a , a );<span class="comment">//调用普通函数 不用推导</span></span><br><span class="line">  Myadd&lt;&gt; ( a , a );<span class="comment">//指定调用模板函数</span></span><br><span class="line">  <span class="built_in">Myadd</span>&lt;<span class="type">int</span>&gt; ( a , a );<span class="comment">//指定调用模板函数</span></span><br><span class="line">  <span class="built_in">Myadd</span> ( a , b );<span class="comment">//调用普通函数 因为普通的函数可以自动类型转换</span></span><br><span class="line">  <span class="built_in">Myadd</span>&lt;<span class="type">char</span> &gt; ( a , b );<span class="comment">//函数模板不会做自动类型转换</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-2-4、函数模板和普通函数在一起的调用规则"><a href="#10-2-4、函数模板和普通函数在一起的调用规则" class="headerlink" title="10-2-4、函数模板和普通函数在一起的调用规则"></a>10-2-4、函数模板和普通函数在一起的调用规则</h3><ul>
<li>c++编译器优先考虑普通函数</li>
<li>可以通过空模板实参列表的语法限定编译器只能通过模板匹配</li>
<li>函数模板可以像普通函数那样可以被重载</li>
<li>函数模板如果有更好的匹配,优先使用函数模板</li>
</ul>
<h3 id="10-2-5、编译过程和函数模板本质"><a href="#10-2-5、编译过程和函数模板本质" class="headerlink" title="10-2-5、编译过程和函数模板本质"></a>10-2-5、编译过程和函数模板本质</h3><p>就是进行二次编译<br>第一次对函数模板进行编译,第二次在调用处对函数模板展开,进行二次<br>编译</p>
<h3 id="10-2-6、模板具体化"><a href="#10-2-6、模板具体化" class="headerlink" title="10-2-6、模板具体化"></a>10-2-6、模板具体化</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Person</span> ( string name , <span class="type">int</span> age )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt; mName = name;</span><br><span class="line">    <span class="keyword">this</span>-&gt; mAge = age;</span><br><span class="line">  &#125;</span><br><span class="line">  string mName;</span><br><span class="line">  <span class="type">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//普通交换函数</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mySwap</span> <span class="params">( T&amp; a , T&amp; b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  T temp = a;</span><br><span class="line">  a = b;</span><br><span class="line">  b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//第三代具体化，显示具体化的原型和定意思以template&lt;&gt;开头，并通过名称来指出类型</span></span><br><span class="line"><span class="comment">//具体化优先于常规模板</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;<span class="type">void</span>  <span class="built_in">mySwap</span>&lt;Person&gt; ( Person&amp; p1 , Person&amp; p2 )</span><br><span class="line">&#123;</span><br><span class="line">  string nameTemp;</span><br><span class="line">  <span class="type">int</span> ageTemp;</span><br><span class="line"></span><br><span class="line">  nameTemp = p1.mName;</span><br><span class="line">  p1.mName = p2.mName;</span><br><span class="line">  p2.mName = nameTemp;</span><br><span class="line"></span><br><span class="line">  ageTemp = p1.mAge;</span><br><span class="line">  p1.mAge = p2.mAge;</span><br><span class="line">  p2.mAge = ageTemp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Person <span class="title">P1</span> <span class="params">( <span class="string">&quot;Tom&quot;</span> , <span class="number">10</span> )</span></span>;</span><br><span class="line">  <span class="function">Person <span class="title">P2</span> <span class="params">( <span class="string">&quot;Jerry&quot;</span> , <span class="number">20</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;P1 Name = &quot;</span> &lt;&lt; P1.mName &lt;&lt; <span class="string">&quot; P1 Age = &quot;</span> &lt;&lt; P1.mAge &lt;&lt; endl;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;P2 Name = &quot;</span> &lt;&lt; P2.mName &lt;&lt; <span class="string">&quot; P2 Age = &quot;</span> &lt;&lt; P2.mAge &lt;&lt; endl;</span><br><span class="line">  <span class="built_in">mySwap</span> ( P1 , P2 );</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;P1 Name = &quot;</span> &lt;&lt; P1.mName &lt;&lt; <span class="string">&quot; P1 Age = &quot;</span> &lt;&lt; P1.mAge &lt;&lt; endl;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;P2 Name = &quot;</span> &lt;&lt; P2.mName &lt;&lt; <span class="string">&quot; P2 Age = &quot;</span> &lt;&lt; P2.mAge &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-2-7、类模板"><a href="#10-2-7、类模板" class="headerlink" title="10-2-7、类模板"></a>10-2-7、类模板</h3><h4 id="10-2-7-1、类模板的实现"><a href="#10-2-7-1、类模板的实现" class="headerlink" title="10-2-7-1、类模板的实现"></a>10-2-7-1、类模板的实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Animal</span> ( T1 a , T2 b )</span><br><span class="line">  &#123;</span><br><span class="line">    age = a;</span><br><span class="line">    data = b;</span><br><span class="line">  &#125;</span><br><span class="line">  T1 age;</span><br><span class="line">  T2 data;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//类模板不能自动类型推导</span></span><br><span class="line">  <span class="function">Animal&lt;<span class="type">int</span> , <span class="type">int</span>&gt; <span class="title">dog</span> <span class="params">( <span class="number">10</span> , <span class="number">10</span> )</span></span>;<span class="comment">//显示指定</span></span><br><span class="line">  <span class="function">Animal&lt;<span class="type">int</span> , string&gt; <span class="title">cat</span> <span class="params">( <span class="number">4</span> , <span class="string">&quot;lili&quot;</span> )</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-2、类模板作为函数参数"><a href="#10-2-7-2、类模板作为函数参数" class="headerlink" title="10-2-7-2、类模板作为函数参数"></a>10-2-7-2、类模板作为函数参数</h4><p>类模板作为函数的形参,该函数需要写成韩顺模板</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Animal</span> ( T1 a , T2 b )</span><br><span class="line">  &#123;</span><br><span class="line">    age = a;</span><br><span class="line">    data = b;</span><br><span class="line">  &#125;</span><br><span class="line">  T1 age;</span><br><span class="line">  T2 data;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( Animal&lt;<span class="type">int</span> , <span class="type">int</span>&gt;&amp; p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; p.age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.data &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( Animal&lt;T1 , T2&gt;&amp; p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; p.age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.data &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show1</span> <span class="params">( T1&amp; p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; p.age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.data &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-3、类模板遇到继承"><a href="#10-2-7-3、类模板遇到继承" class="headerlink" title="10-2-7-3、类模板遇到继承"></a>10-2-7-3、类模板遇到继承</h4><ul>
<li>类模板遇到继承  在继承时,继承的类必须是一个模板类&lt;&gt;</li>
<li>类模板遇到继承,可以将子类写成类模板</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Base</span> ( T a )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt; a = a;</span><br><span class="line">  &#125;</span><br><span class="line">  T a;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son1</span> :<span class="keyword">public</span> Base&lt;<span class="type">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Son1</span> ( <span class="type">int</span> x1 , <span class="type">int</span> a ) :<span class="built_in">Base</span>&lt;<span class="type">int</span>&gt; ( a ) , <span class="built_in">x</span> ( x1 )</span><br><span class="line">  &#123;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son2</span> :<span class="keyword">public</span> Base&lt;T2&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Son2</span> ( T1 x1 , T2 a ) :<span class="built_in">Base</span>&lt;T2&gt; ( a ) , <span class="built_in">x</span> ( x1 )</span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  T1 x;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Son1 <span class="title">p</span> <span class="params">( <span class="number">10</span> , <span class="number">20</span> )</span></span>;</span><br><span class="line">  <span class="function">Son2&lt;<span class="type">int</span> , string&gt; <span class="title">p2</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-4、类模板的成员函数类内实现"><a href="#10-2-7-4、类模板的成员函数类内实现" class="headerlink" title="10-2-7-4、类模板的成员函数类内实现"></a>10-2-7-4、类模板的成员函数类内实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Person</span> ( T1 a , T2 b )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt; a = a;</span><br><span class="line">    <span class="keyword">this</span>-&gt; b = b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  T1 a;</span><br><span class="line">  T2 b;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Person&lt;<span class="type">int</span> , string&gt; <span class="title">p</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;hello&quot;</span> )</span></span>;</span><br><span class="line">  p.<span class="built_in">show</span> ( );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-5、类模板的成员函数类外实现"><a href="#10-2-7-5、类模板的成员函数类外实现" class="headerlink" title="10-2-7-5、类模板的成员函数类外实现"></a>10-2-7-5、类模板的成员函数类外实现</h4><p>类模板的成员函数放在类外实现需要写成函数模板</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Person</span> ( T1 a , T2 b );</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span>;</span><br><span class="line">  T1 a;</span><br><span class="line">  T2 b;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//类模板的成员函数在类外实现 需要写成函数模板</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">Person&lt;T1 , T2&gt;::<span class="built_in">Person</span> ( T1 a , T2 b )</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">this</span>-&gt;a = a;</span><br><span class="line">  <span class="keyword">this</span>-&gt;b = b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="type">void</span> Person&lt;T1 , T2&gt;::<span class="built_in">show</span> ( )</span><br><span class="line">&#123;</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Person&lt;<span class="type">int</span> , string&gt; <span class="title">p</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;hello&quot;</span> )</span></span>;</span><br><span class="line">  p.<span class="built_in">show</span> ( );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-6、类模板成员函数的创建时机"><a href="#10-2-7-6、类模板成员函数的创建时机" class="headerlink" title="10-2-7-6、类模板成员函数的创建时机"></a>10-2-7-6、类模板成员函数的创建时机</h4><p>类模板成员函数的创建时机是在调用时,没有调用,编译器不会创建这个函数,只有函数的声明</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">showA</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;showA&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">showB</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;showB&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line"><span class="comment">/*   void foo1 ( )</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">    obj.showA ( );</span></span><br><span class="line"><span class="comment">  &#125; */</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">foo2</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    obj.<span class="built_in">showB</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  T obj;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  C&lt;B&gt; p;</span><br><span class="line">  <span class="comment">// p.foo1 ( );//调用foo1</span></span><br><span class="line">  p.<span class="built_in">foo2</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-7、类模板的分文件问题"><a href="#10-2-7-7、类模板的分文件问题" class="headerlink" title="10-2-7-7、类模板的分文件问题"></a>10-2-7-7、类模板的分文件问题</h4><p>注意: 类模板的分文件,必须将函数的定义和类的声明写到一个文件<br>在person.h中</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">person</span> ( T1 a , T2 b );</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span> <span class="params">( )</span></span>;</span><br><span class="line">  T1 a;</span><br><span class="line">  T2 b;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">person&lt;T1 , T2&gt;::<span class="built_in">person</span> ( T1 a , T2 b )</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">this</span>-&gt;a = a;</span><br><span class="line">  <span class="keyword">this</span>-&gt;b = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="type">void</span> person&lt;T1 , T2&gt;::<span class="built_in">show</span> ( )</span><br><span class="line">&#123;</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>main.cpp中</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;person.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//调用构造函数和show函数需要创建,但是没有这两个函数的定义,不能创建</span></span><br><span class="line">  <span class="function">person&lt;<span class="type">int</span> , <span class="type">int</span>&gt; <span class="title">p</span> <span class="params">( <span class="number">10</span> , <span class="number">20</span> )</span></span>;<span class="comment">//</span></span><br><span class="line">  p.<span class="built_in">show</span> ( );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="10-2-7-8、类模板遇到友元"><a href="#10-2-7-8、类模板遇到友元" class="headerlink" title="10-2-7-8、类模板遇到友元"></a>10-2-7-8、类模板遇到友元</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showPerson1</span> <span class="params">( Person&lt;T1 , T2&gt;&amp; p )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类模板作为函数形参 函数需要学成 函数模板</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showPerson</span> <span class="params">( Person&lt;T1 , T2&gt;&amp; p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; p.a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">friend</span> <span class="type">void</span> showPerson1&lt;&gt; ( Person&lt;T1 , T2&gt;&amp; p );</span><br><span class="line">  <span class="keyword">friend</span> <span class="type">void</span> showPerson&lt;&gt; ( Person&lt;T1 , T2&gt;&amp; p );</span><br><span class="line">  <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">showPerson2</span> <span class="params">( Person&lt;T1 , T2&gt;&amp; p )</span><span class="comment">//定义一个全局函数并且声明为类的元</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; p.a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.b &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Person</span> ( T1 a , T2 b )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt; a = a;</span><br><span class="line">    <span class="keyword">this</span>-&gt; b = b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  T1 a;</span><br><span class="line">  T2 b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showPerson1</span> <span class="params">( Person&lt;T1 , T2&gt;&amp; p )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  cout &lt;&lt; p.a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Person&lt;<span class="type">int</span> , string&gt; <span class="title">p</span> <span class="params">( <span class="number">10</span> , <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">  <span class="built_in">showPerson</span> ( p );</span><br><span class="line">  <span class="built_in">showPerson1</span> ( p );</span><br><span class="line">  <span class="built_in">showPerson2</span> ( p );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="11、c-转换"><a href="#11、c-转换" class="headerlink" title="11、c++转换"></a>11、c++转换</h1><p>static_cast&lt;待转换的类型&gt;(待转换的数据)</p>
<ul>
<li>static_cast可以用来转换基本的内置数据类型 int char  double…</li>
<li>static_cast不能转换没有发生继承关系之间的类</li>
<li>static_cast可以用来转换发送继承关系之间的类,但是不保存安全性</li>
<li>不能用来转换指针<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//static_cast 用来转换内置的数据类型 和c语言的强制类型转换一样</span></span><br><span class="line">  <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="type">double</span> c = <span class="number">3.14</span>;</span><br><span class="line">  a = <span class="built_in">static_cast</span>&lt; <span class="type">int</span> &gt;( b );</span><br><span class="line">  a = <span class="built_in">static_cast</span>&lt; <span class="type">int</span> &gt;( c );</span><br><span class="line">  c = <span class="built_in">static_cast</span>&lt; <span class="type">double</span> &gt;( a );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> :<span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  A* p1 = <span class="keyword">new</span> A;</span><br><span class="line">  B* p2 = <span class="keyword">new</span> B;</span><br><span class="line">  <span class="comment">//static_cast不能转换没有发生继承关系之间的类</span></span><br><span class="line">  <span class="comment">//如果两个类之间发生了继承关系,可以类型转换 但是static_cast不会保证转换的安全</span></span><br><span class="line">  p1 = <span class="built_in">static_cast</span>&lt; A* &gt;( p2 );<span class="comment">//子转父 向上转换 是安全的</span></span><br><span class="line">  p2 = <span class="built_in">static_cast</span>&lt; B* &gt;( p1 );<span class="comment">//父转子 向下转换 是不安全的</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span>* p1 = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="type">char</span>* p2 = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="comment">//static_cast不能用来转指针</span></span><br><span class="line">  <span class="comment">//p1 = static_cast&lt;int *&gt;(p2);</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="11-1、动态转换"><a href="#11-1、动态转换" class="headerlink" title="11-1、动态转换"></a>11-1、动态转换</h2><ul>
<li>不能用于转换基本的数据类型</li>
<li>可以用于转换发送继关系之间的类,保证转换是安全的 子转父是可以的</li>
<li>如果发生了多态,子转父和父转子总是安全的<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//动态转换 dynamic_cast</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test04</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//动态转换不能转内置的基本数据类型</span></span><br><span class="line">  <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">char</span> b = <span class="number">2</span>;</span><br><span class="line">  <span class="comment">//a = dynamic_cast&lt;int&gt;(b);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test05</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  A* p1 = <span class="keyword">new</span> A;</span><br><span class="line">  B* p2 = <span class="keyword">new</span> B;</span><br><span class="line">  <span class="comment">//dynamic_cast不能用于没有发生继承关系之间的类转换</span></span><br><span class="line">  <span class="comment">//dynamic_cast可以用于发生继承关系之间的类号转换</span></span><br><span class="line"></span><br><span class="line">  p1 = <span class="built_in">dynamic_cast</span>&lt; A* &gt;( p2 );<span class="comment">//子转父 是安全的</span></span><br><span class="line">  <span class="comment">//p2 = dynamic_cast&lt;B*&gt;(p1);//父转子 不安全 不允许</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="11-2、常量转换"><a href="#11-2、常量转换" class="headerlink" title="11-2、常量转换"></a>11-2、常量转换</h2><p>const_cast 一般用来加const或去除const</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//const转换</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test06</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span>* p1 = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="type">const</span> <span class="type">int</span>* p2 = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="comment">//int *p1 = static_cast&lt;int *&gt;(p2);</span></span><br><span class="line">  p1 = <span class="built_in">const_cast</span>&lt; <span class="type">int</span>* &gt;( p2 );</span><br><span class="line">  p2 = <span class="built_in">const_cast</span>&lt; <span class="type">const</span> <span class="type">int</span>* &gt;( p1 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="11-3、重新解释转换"><a href="#11-3、重新解释转换" class="headerlink" title="11-3、重新解释转换"></a>11-3、重新解释转换</h2><p>reinterpret_cast<br>一般用来转换指针 整数和指针之间都可以转换</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test07</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span>* p = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="type">char</span>* p2 = <span class="literal">NULL</span>;</span><br><span class="line">  p = <span class="built_in">reinterpret_cast</span>&lt; <span class="type">int</span>* &gt;( p2 );</span><br><span class="line">  p2 = <span class="built_in">reinterpret_cast</span>&lt; <span class="type">char</span>* &gt;( p );</span><br><span class="line">  <span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line">  c = <span class="built_in">reinterpret_cast</span>&lt; <span class="type">int</span> &gt;( p2 );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="11-4、总结"><a href="#11-4、总结" class="headerlink" title="11-4、总结"></a>11-4、总结</h2><ul>
<li>static_cast 一般用来转换内置的基本数据类型</li>
<li>dynamic_cast 一般用来转发生继承关系之间的自定义的数据类型</li>
<li>const_cast  一般用来转换加const和去除const</li>
<li>reinterpret_cast   一般用来转指针</li>
</ul>
<h1 id="12、异常"><a href="#12、异常" class="headerlink" title="12、异常"></a>12、异常</h1><p>异常: 出错后,将出错问题返回给调用处<br>c语言的异常处理比较简单,容易出错,c++处理异常不容易出错</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mydive</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">if</span> (b == <span class="number">0</span>)</span><br><span class="line"> <span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">//errno = 2</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a / b;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">  <span class="type">int</span> ret = <span class="built_in">mydive</span>(<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">  <span class="keyword">if</span> (ret == <span class="number">-1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;除数为0&quot;</span> &lt;&lt; endl;<span class="comment">//perror(&quot;&quot;);</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>c语言一般方式</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义错误码</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    ERROR_NONE = <span class="number">0</span>,</span><br><span class="line">    ERROR_INVALID_INPUT,</span><br><span class="line">    ERROR_OUT_OF_MEMORY,</span><br><span class="line">    <span class="comment">// 可以添加更多错误码</span></span><br><span class="line">&#125; ErrorCode;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局错误码变量</span></span><br><span class="line">ErrorCode g_errorCode = ERROR_NONE;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置错误码的宏</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SET_ERROR_CODE(code) do &#123; \</span></span><br><span class="line"><span class="meta">    g_errorCode = code;           \</span></span><br><span class="line"><span class="meta">    return;                       \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟异常抛出</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">ThrowException</span><span class="params">(ErrorCode code)</span> &#123;</span><br><span class="line">    SET_ERROR_CODE(code);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟异常处理</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">HandleException</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (g_errorCode) &#123;</span><br><span class="line">        <span class="keyword">case</span> ERROR_INVALID_INPUT:</span><br><span class="line">            <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Invalid input detected.\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ERROR_OUT_OF_MEMORY:</span><br><span class="line">            <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Out of memory.\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">ExampleFunction</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="comment">/* 某些条件 */</span>) &#123;</span><br><span class="line">        ThrowException(ERROR_INVALID_INPUT);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 正常执行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> main() &#123;</span><br><span class="line">    ExampleFunction();</span><br><span class="line">    HandleException();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-1、c-处理异常"><a href="#12-1、c-处理异常" class="headerlink" title="12-1、c++处理异常"></a>12-1、c++处理异常</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mydive</span> <span class="params">( <span class="type">int</span> a , <span class="type">int</span> b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ( b == <span class="number">0</span> )</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;a&#x27;</span>;<span class="comment">//处理异常 抛出异常 抛出一个类型</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a / b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//尝试捕获异常</span></span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">mydive</span> ( <span class="number">2</span> , <span class="number">0</span> );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">char</span> )<span class="comment">//如果没有捕获的抛出的异常 程序会被终止</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;捕获了一个char类型的异常&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">char</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;捕获了一个char类型的异常&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="12-2、异常严格类型匹配"><a href="#12-2、异常严格类型匹配" class="headerlink" title="12-2、异常严格类型匹配"></a>12-2、异常严格类型匹配</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mydive</span> <span class="params">( <span class="type">int</span> a , <span class="type">int</span> b )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  string str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> ( b == <span class="number">0</span> )</span><br><span class="line">    <span class="keyword">throw</span> str;<span class="comment">//处理异常 抛出异常 抛出一个类型</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a / b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//尝试捕获异常</span></span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">mydive</span> ( <span class="number">2</span> , <span class="number">0</span> );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">char</span> )<span class="comment">//如果没有捕获的抛出的异常 程序会被终止</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;捕获了一个char类型的异常&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">int</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;捕获了一个int类型的异常&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">double</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;捕获了一个double类型的异常&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( ... )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;捕获了一个其他类型的异常&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">test01</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">char</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;捕获了一个char类型的异常&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="12-3、栈解旋"><a href="#12-3、栈解旋" class="headerlink" title="12-3、栈解旋"></a>12-3、栈解旋</h2><p>在try到throw之间定义的对象,在throw之后会被释放</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Person</span> ( string name )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">this</span>-&gt; name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  ~<span class="built_in">Person</span> ( )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;析构&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  string name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">Person <span class="title">p2</span> <span class="params">( <span class="string">&quot;bob&quot;</span> )</span></span>;</span><br><span class="line">  <span class="function">Person <span class="title">p3</span> <span class="params">( <span class="string">&quot;peter&quot;</span> )</span></span>;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;001&quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">throw</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span> <span class="params">( <span class="string">&quot;lucy&quot;</span> )</span></span>;</span><br><span class="line">    <span class="built_in">fun</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( <span class="type">int</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;002&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;捕获到异常&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-4、异常接口的声明"><a href="#12-4、异常接口的声明" class="headerlink" title="12-4、异常接口的声明"></a>12-4、异常接口的声明</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//本例程用不了了，不符合c++的最新标准了。已经移除</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//可抛出所有类型异常</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestFunction01</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//只能抛出int char char*类型异常</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestFunction02</span><span class="params">()</span> <span class="title">throw</span><span class="params">(<span class="type">int</span> ,<span class="type">char</span>, <span class="type">char</span>*)</span></span>&#123;</span><br><span class="line">string exception = <span class="string">&quot;error!&quot;</span>;</span><br><span class="line"><span class="keyword">throw</span> exception;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//不能抛出任何类型异常</span></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">TestFunction03</span><span class="params">()</span> <span class="title">throw</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">throw</span> <span class="number">10</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//  TestFunction01();</span></span><br><span class="line"> <span class="built_in">TestFunction02</span>();</span><br><span class="line"> <span class="comment">//TestFunction03();</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">catch</span> (...)&#123;</span><br><span class="line"> cout &lt;&lt; <span class="string">&quot;捕获异常!&quot;</span> &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"> <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>修改后</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可抛出所有类型异常</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestFunction01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能抛出 int, char, char* 类型异常</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestFunction02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string exception = <span class="string">&quot;error!&quot;</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* c_exception = exception.<span class="built_in">c_str</span>(); <span class="comment">// 转换为 char* 类型</span></span><br><span class="line">    <span class="keyword">throw</span> c_exception;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不能抛出任何类型异常</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestFunction03</span><span class="params">()</span> <span class="keyword">noexcept</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 不应该抛出任何异常</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// TestFunction01();</span></span><br><span class="line">        <span class="built_in">TestFunction02</span>(); <span class="comment">// 测试 TestFunction02</span></span><br><span class="line">        <span class="comment">// TestFunction03(); // 测试 TestFunction03</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">int</span> e) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;捕获整数异常: &quot;</span> &lt;&lt; e &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">const</span> <span class="type">char</span>* e) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;捕获 C 风格字符串异常: &quot;</span> &lt;&lt; e &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (...) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;捕获其他类型异常!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-5、异常变量生命周期"><a href="#12-5、异常变量生命周期" class="headerlink" title="12-5、异常变量生命周期"></a>12-5、异常变量生命周期</h2><p>抛出的匿名对象的生命周期在catch里面</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myexception</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Myexception</span> ( )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  ~<span class="built_in">Myexception</span> ( )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">error</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;my error&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Myexception p1;</span><br><span class="line">  <span class="comment">//throw Myexception();//如果抛出匿名对象 他的声明周期在catch里面</span></span><br><span class="line">  <span class="keyword">throw</span> p1;<span class="comment">//p1声明周期在throw之后</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">fun</span> ( );</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( Myexception&amp; p )</span><br><span class="line">  &#123;</span><br><span class="line">    p.<span class="built_in">error</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-6、异常的多态使用"><a href="#12-6、异常的多态使用" class="headerlink" title="12-6、异常的多态使用"></a>12-6、异常的多态使用</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myexception</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">error</span> <span class="params">( )</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Out_of_range</span> :<span class="keyword">public</span> Myexception</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">error</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Out_of_range&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bad_cast</span> :<span class="keyword">public</span> Myexception</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">error</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bad_cast&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="built_in">Out_of_range</span>();</span><br><span class="line">  <span class="comment">// throw Bad_cast ( );</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">fun</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( Myexception&amp; p )</span><br><span class="line">  &#123;</span><br><span class="line">    p.<span class="built_in">error</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>回顾多态</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">display</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Base::display()&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Base</span>() &#123;&#125;  <span class="comment">// 虚析构函数，确保派生类对象正确释放</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 派生类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Derived::display()&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Base* basePtr;  <span class="comment">// 基类指针</span></span><br><span class="line"></span><br><span class="line">    Base baseObj;</span><br><span class="line">    Derived derivedObj;</span><br><span class="line"></span><br><span class="line">    basePtr = &amp;baseObj;</span><br><span class="line">    basePtr-&gt;<span class="built_in">display</span>();  <span class="comment">// 输出 &quot;Base::display()&quot;</span></span><br><span class="line"></span><br><span class="line">    basePtr = &amp;derivedObj;</span><br><span class="line">    basePtr-&gt;<span class="built_in">display</span>();  <span class="comment">// 输出 &quot;Derived::display()&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-7、c-的异常库"><a href="#12-7、c-的异常库" class="headerlink" title="12-7、c++的异常库"></a>12-7、c++的异常库</h2><p>异常库使用<br>#define _CRT_SECURE_NO_WARNINGS<br>#include <iostream><br>#include &lt;string.h&gt;<br>#include <string><br>&#x2F;&#x2F;exception<br>#include <stdexcept><br>using namespace std;</p>
<p>void fun ( )<br>{<br>  &#x2F;**&#x2F;<br>  &#x2F;&#x2F; throw out_of_range(“越界”);<br>  throw invalid_argument ( “段错误” );<br>}<br>void test01 ( )<br>{<br>  try<br>  {<br>    fun ( );<br>  }<br>  catch ( exception&amp; p )<br>  {<br>    cout &lt;&lt; p.what ( ) &lt;&lt; endl;<br>  }<br>}<br>int main ( )<br>{<br>  test01 ( );<br>  return 0;<br>}</p>
<p>编写自己的异常类</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//exception</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Longlongerror</span> :<span class="keyword">public</span> exception</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Longlongerror</span> ( string data )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt; data = data;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Longlongerror</span> ( <span class="type">char</span>* data )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt; data = data;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="title">what</span> <span class="params">( )</span> <span class="type">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> data.<span class="built_in">c_str</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  string data;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="built_in">Longlongerror</span> ( <span class="string">&quot;长长的错误&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">fun</span> ( );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> ( exception&amp; p )</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; p.<span class="built_in">what</span> ( ) &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">test01</span> ( );</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="13、STL模板"><a href="#13、STL模板" class="headerlink" title="13、STL模板"></a>13、STL模板</h1><h2 id="13-1、容器map"><a href="#13-1、容器map" class="headerlink" title="13-1、容器map"></a>13-1、容器map</h2><p>由关键字和其对应的值构成的一个键值对，通过关键字来查找对应的值。<br><code>关键字别名：first。</code><br><code>值别名：second。</code><br>例子:<br>abacsdffjkalsjdfajsdjla<br>统计每个字母出现的次数：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; cnt;<span class="comment">//把各个字母出现的次数存入cnt中</span></span><br><span class="line">cnt.<span class="built_in">inser</span>(std::<span class="built_in">make_pair</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>));<span class="comment">//插入键值对</span></span><br><span class="line">cnt.<span class="built_in">insert</span>(std::<span class="built_in">make_pair</span>(<span class="string">&#x27;b&#x27;</span>, <span class="number">1</span>));</span><br><span class="line">cnt[<span class="string">&#x27;a&#x27;</span>]++;<span class="comment">//a出现的次数加一</span></span><br><span class="line">cnt[<span class="string">&#x27;c&#x27;</span>]++; <span class="comment">//可以取代cnt.insert(std::make_pair(&#x27;c&#x27;, 1));</span></span><br></pre></td></tr></table></figure>
<p>插入元素有多种方式</p>
<ol>
<li>插入元素;<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt;student;</span><br><span class="line"><span class="comment">//方式一：用inser函数插入pair</span></span><br><span class="line">student.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span> , string&gt;(<span class="number">1</span>, <span class="string">&quot;Alice&quot;</span>));</span><br><span class="line"></span><br><span class="line">方式二：用insert函数插入value_type数据</span><br><span class="line">studen.<span class="built_in">insert</span>(map&lt;<span class="type">int</span> , string&gt;::<span class="built_in">value_type</span>(<span class="string">&#x27;2&#x27;</span>, <span class="string">&quot;Bob&quot;</span>));</span><br><span class="line"></span><br><span class="line">方式三：用类似数组的方式插入数据</span><br><span class="line">student[<span class="number">3</span>] = <span class="string">&quot;Tom&quot;</span>;</span><br></pre></td></tr></table></figure>
2、查找元素;<br>find()返回一个迭代器,指向查找的元素,如果没找到则返回map::end()位置（NULL）;<br>注意，值的别名是second。通过迭代器去访问。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iter = student.<span class="built_in">find</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span>(iter != student.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">  cout &lt;&lt;<span class="string">&quot;找到&quot;</span> &lt;&lt;iter-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  cout &lt;&lt;<span class="string">&quot;没找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
注意：如果关键字是整型，也可以通过student[1]读取关键字1对应的数据。</li>
</ol>
<p>几种引用情况：<br>第一种：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp1;</span><br><span class="line"><span class="type">int</span> sum = <span class="number">100</span>;</span><br><span class="line">mp1[<span class="number">10</span>] = <span class="number">3</span>;</span><br><span class="line">sum += mp1[<span class="number">10</span>];<span class="comment">//mp1中存在关键字10，他对应的数据是3，所以sum = 100 + 3 = 103</span></span><br></pre></td></tr></table></figure>
<p>第二种：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp1;</span><br><span class="line"><span class="type">int</span> sum = <span class="number">100</span>;</span><br><span class="line">sum += mp1[<span class="number">10</span>];<span class="comment">//mp1中不存在关键字10，所以sum = 100 + 0 = 100</span></span><br></pre></td></tr></table></figure>
<p>第三种：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp1;</span><br><span class="line">mp1[<span class="number">10</span>] = <span class="number">3</span>;</span><br><span class="line">mp1[<span class="number">10</span>] ++ ;<span class="comment">//mp1中存在关键字10，他对应的数据是3，所以mp1[10] = 4</span></span><br></pre></td></tr></table></figure>
<p>第四种：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp1;</span><br><span class="line">map[<span class="number">20</span>] ++ ;<span class="comment">//mp1中不存在关键字20，所以mp1[20] = 1</span></span><br><span class="line"><span class="comment">//也就是mp1会增加一个元素，关键字是20，值是1</span></span><br></pre></td></tr></table></figure>

<p>扩展：如果关键字是自己构造的类型，那么需要自己写比较函数。需要重载。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://naro-ygc.cn">naro-ygc</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://naro-ygc.cn/posts/6f1ca842.html">https://naro-ygc.cn/posts/6f1ca842.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://naro-ygc.cn" target="_blank">naro</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/7_linux%E5%BC%80%E5%8F%91/cpp/linuxCpp/%E5%B0%81%E9%9D%A2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/ec914a40.html" title="kernel移植（linux5.1571移植）"><img class="cover" src="/img/3_%E9%A9%B1%E5%8A%A8%E3%80%81bootleader%E3%80%81%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/%E9%A9%B1%E5%8A%A8%E7%BC%96%E5%86%99/%E5%B0%81%E9%9D%A2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">kernel移植（linux5.1571移植）</div></div></a></div><div class="next-post pull-right"><a href="/posts/69453faf.html" title="linuxC"><img class="cover" src="/../../../img/7_linux%E5%BC%80%E5%8F%91/c/%E5%B0%81%E9%9D%A2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">linuxC</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/log.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">naro-ygc</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">76</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81c-%E5%AF%B9c%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">1.</span> <span class="toc-text">1、c++对c的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1%E3%80%81%E5%86%92%E5%8F%B7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.1.</span> <span class="toc-text">1-1、冒号作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2%E3%80%81%E5%90%8D%E5%AD%97%E6%8E%A7%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">1-2、名字控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3%E3%80%81%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E6%A3%80%E6%B5%8B%E5%A2%9E%E5%BC%BA"><span class="toc-number">1.3.</span> <span class="toc-text">1-3、全局变量检测增强</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4%E3%80%81%E6%9B%B4%E4%B8%A5%E6%A0%BC%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%A3%80%E6%B5%8B"><span class="toc-number">1.4.</span> <span class="toc-text">1-4、更严格的类型转换检测</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5%E3%80%81struct%E7%B1%BB%E5%9E%8B%E5%A2%9E%E5%BC%BA"><span class="toc-number">1.5.</span> <span class="toc-text">1-5、struct类型增强</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6%E3%80%81%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6%E6%9C%89%E6%89%80%E4%B8%8D%E5%90%8C"><span class="toc-number">1.6.</span> <span class="toc-text">1-6、三目运算符有所不同</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7%E3%80%81c-c-%E4%B8%ADconst"><span class="toc-number">1.7.</span> <span class="toc-text">1-7、c&#x2F;c++中const</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-1%E3%80%81const%E6%A6%82%E8%BF%B0"><span class="toc-number">1.7.1.</span> <span class="toc-text">1-7-1、const概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-2%E3%80%81c-c-%E4%B8%ADconst%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.7.2.</span> <span class="toc-text">1-7-2、c&#x2F;c++中const的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-1%E3%80%81c%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84const"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">1-7-2-1、c语言中的const</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-2%E3%80%81c-%E4%B8%AD%E7%9A%84const"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">1-7-2-2、c++中的const</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-3%E3%80%81%E7%9B%B8%E5%90%8C%E7%9A%84%E7%82%B9"><span class="toc-number">1.7.2.3.</span> <span class="toc-text">1-7-2-3、相同的点:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-4%E3%80%81%E4%B8%8D%E5%90%8C%E7%9A%84%E7%82%B9"><span class="toc-number">1.7.2.4.</span> <span class="toc-text">1-7-2-4、不同的点:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-5%E3%80%81%E5%B0%BD%E9%87%8F%E4%BB%A5const%E6%9B%BF%E6%8D%A2define"><span class="toc-number">1.7.2.5.</span> <span class="toc-text">1-7-2-5、尽量以const替换define</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-2-6%E3%80%81%E5%BC%95%E7%94%A8%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">1.7.3.</span> <span class="toc-text">1-7-2-6、引用的用法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8%E3%80%81%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.</span> <span class="toc-text">1-8、内联函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-1%E3%80%81%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%9A%E5%B0%86%E5%AE%83%E5%81%9A%E6%88%90%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.1.</span> <span class="toc-text">1-8-1、类的成员函数默认编译器会将它做成内联函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-2%E3%80%81%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%E5%92%8C%E7%BC%96%E8%AF%91%E5%99%A8"><span class="toc-number">1.8.1.1.</span> <span class="toc-text">1-8-2、内联函数和编译器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">1.9.</span> <span class="toc-text">1-9、函数的默认参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10%E3%80%81%E5%8D%A0%E4%BD%8D%E5%8F%82%E6%95%B0"><span class="toc-number">1.10.</span> <span class="toc-text">1-10、占位参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-11%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E9%87%8D%E8%BD%BD"><span class="toc-number">1.11.</span> <span class="toc-text">1-11、函数的重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-12%E3%80%81extern-%E2%80%9Cc%E2%80%9D%E6%B5%85%E6%9E%90"><span class="toc-number">1.12.</span> <span class="toc-text">1-12、extern “c”浅析</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E3%80%81%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.</span> <span class="toc-text">2、类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E3%80%81c%E5%92%8Cc-%E4%B8%ADstruct%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.1.</span> <span class="toc-text">2-1、c和c++中struct的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2%E3%80%81C%E8%AF%AD%E8%A8%80%E4%B8%AD%E8%A1%A8%E7%A4%BA%E4%BA%8B%E7%89%A9%E7%9A%84%E6%96%B9%E6%B3%95%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">2.2.</span> <span class="toc-text">2-2、C语言中表示事物的方法存在的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3%E3%80%81c-%E4%B8%AD%E5%AF%B9%E4%BA%8B%E7%89%A9%E7%9A%84%E5%B0%81%E8%A3%85-%E7%B1%BB"><span class="toc-number">2.3.</span> <span class="toc-text">2-3、c++中对事物的封装-类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4%E3%80%81%E7%B1%BB%E4%B8%AD%E7%9A%84%E6%88%90%E5%91%98%E6%9D%83%E9%99%90"><span class="toc-number">2.4.</span> <span class="toc-text">2-4、类中的成员权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5%E3%80%81%E5%B0%BD%E9%87%8F%E8%AE%BE%E7%BD%AE%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E4%B8%BA%E7%A7%81%E6%9C%89%E6%9D%83%E9%99%90"><span class="toc-number">2.5.</span> <span class="toc-text">2-5、尽量设置成员变量为私有权限</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E3%80%81-%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">3、 构造和析构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E3%80%81%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">3-1 、构造和析构的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">3-2 构造函数和析构函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3%E3%80%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.3.</span> <span class="toc-text">3-3、构造函数的分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4%E3%80%81%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E6%97%B6%E6%9C%BA"><span class="toc-number">3.4.</span> <span class="toc-text">3-4、拷贝构造函数的调用时机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5%E3%80%81c-%E9%BB%98%E8%AE%A4%E5%A2%9E%E5%8A%A0%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.</span> <span class="toc-text">3.5、c++默认增加的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6%E3%80%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">3.6.</span> <span class="toc-text">3-6、构造函数的深拷贝和浅拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7%E3%80%81%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84"><span class="toc-number">3.7.</span> <span class="toc-text">3-7、多个对象构造和析构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-1%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="toc-number">3.7.1.</span> <span class="toc-text">3-7-1、初始化列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-2%E3%80%81%E7%B1%BB%E5%AF%B9%E8%B1%A1%E6%88%90%E4%B8%BA%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98"><span class="toc-number">3.7.2.</span> <span class="toc-text">3-7-2、类对象成为另一个类的成员</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-%E3%80%81explicit"><span class="toc-number">3.8.</span> <span class="toc-text">3-8 、explicit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9%E3%80%81%E5%8A%A8%E6%80%81%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA"><span class="toc-number">3.9.</span> <span class="toc-text">3-9、动态对象创建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-1%E3%80%81malloc%E5%92%8Cfree%E5%8A%A8%E6%80%81%E7%94%B3%E8%AF%B7%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%87%8A%E6%94%BE%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.9.1.</span> <span class="toc-text">3-9-1、malloc和free动态申请对象和释放对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-2%E3%80%81-%E4%B8%AD%E5%8A%A8%E6%80%81%E7%94%B3%E8%AF%B7%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%87%8A%E6%94%BE%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.9.2.</span> <span class="toc-text">3-9-2、++中动态申请对象和释放对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-3%E3%80%81new%E5%92%8Cdelete"><span class="toc-number">3.9.3.</span> <span class="toc-text">3-9-3、new和delete</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-4%E3%80%81delete-void-%E9%97%AE%E9%A2%98"><span class="toc-number">3.9.4.</span> <span class="toc-text">3-9-4、delete void *问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-5%E3%80%81%E4%BD%BF%E7%94%A8new%E5%92%8Cdelete%E9%87%87%E7%94%A8%E7%9B%B8%E5%90%8C%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.9.5.</span> <span class="toc-text">3-9-5、使用new和delete采用相同形式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10%E3%80%81%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="toc-number">3.10.</span> <span class="toc-text">3-10、静态成员</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-1%E3%80%81%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F"><span class="toc-number">3.10.1.</span> <span class="toc-text">3-10-1、静态成员变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-2%E3%80%81%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-number">3.10.2.</span> <span class="toc-text">3-10-2、静态成员函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-3%E3%80%81const%E4%BF%AE%E9%A5%B0%E7%9A%84%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">3.10.3.</span> <span class="toc-text">3-10-3、const修饰的静态变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-4%E3%80%81%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.10.4.</span> <span class="toc-text">3-10-4、单例模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E3%80%81%E7%B1%BB%E5%AF%B9%E8%B1%A1%E6%88%90%E5%91%98%E7%9A%84%E5%88%9D%E6%8E%A2"><span class="toc-number">4.</span> <span class="toc-text">4、类对象成员的初探</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1%E3%80%81%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%AD%98%E5%82%A8"><span class="toc-number">4.1.</span> <span class="toc-text">4-1、成员变量和函数的存储</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2%E3%80%81this%E6%8C%87%E9%92%88%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">4.2.</span> <span class="toc-text">4-2、this指针的工作原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3%E3%80%81this%E6%8C%87%E9%92%88%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">4.3.</span> <span class="toc-text">4-3、this指针的用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4%E3%80%81cconst%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-number">4.4.</span> <span class="toc-text">4-4、cconst修饰的成员函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5%E3%80%81%E6%9C%89%E5%85%83"><span class="toc-number">5.</span> <span class="toc-text">5、有元</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1%E3%80%81-%E5%8F%8B%E5%85%83%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">5-1、 友元的语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1%E3%80%81%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%E6%88%90%E4%B8%BA%E7%B1%BB%E7%9A%84%E5%8F%8B%E5%85%83"><span class="toc-number">5.1.1.</span> <span class="toc-text">5-1-1、全局函数成为类的友元</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2%E3%80%81%E7%B1%BB%E6%88%90%E4%B8%BA%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E5%8F%8B%E5%85%83-%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E6%88%90%E4%B8%BA%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E5%8F%8B%E5%85%83"><span class="toc-number">5.2.</span> <span class="toc-text">5-2、类成为另一个类的友元,类的成员函数成为另一个类的友元</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-number">6.</span> <span class="toc-text">6、运算符重载</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1%E3%80%81-%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">6.1.</span> <span class="toc-text">6-1、 运算符重载的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2%E3%80%81%E9%87%8D%E8%BD%BD%E5%8A%A0%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">6.2.</span> <span class="toc-text">6-2、重载加号运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3%E3%80%81%E9%87%8D%E8%BD%BD%E5%B7%A6%E7%A7%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E7%A2%B0%E4%B8%8A%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-number">6.3.</span> <span class="toc-text">6-3、重载左移运算符和算符重载碰上友元函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4%E3%80%81-%E5%8F%AF%E4%BB%A5%E9%87%8D%E8%BD%BD%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">6.4.</span> <span class="toc-text">6-4、 可以重载的运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5%E3%80%81%E9%87%8D%E8%BD%BD%E8%87%AA%E5%8A%A0%E8%87%AA%E5%87%8F%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">6.5.</span> <span class="toc-text">6-5、重载自加自减运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6%E3%80%81%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88"><span class="toc-number">6.6.</span> <span class="toc-text">6-6、智能指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-7%E3%80%81%E9%87%8D%E8%BD%BD-%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">6.7.</span> <span class="toc-text">6-7、重载&#x3D;号运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-8%E3%80%81%E9%87%8D%E8%BD%BD%E4%B8%8D%E7%AD%89%E5%8F%B7"><span class="toc-number">6.8.</span> <span class="toc-text">6-8、重载不等号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-9%E3%80%81%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.9.</span> <span class="toc-text">6-9、函数对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10%E3%80%81%E4%B8%8D%E8%A6%81%E9%87%8D%E8%BD%BD-%E5%92%8C"><span class="toc-number">6.9.1.</span> <span class="toc-text">6-10、不要重载&amp;&amp;和||</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-11%E3%80%81%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E7%AC%A6%E5%BB%BA%E8%AE%AE"><span class="toc-number">6.10.</span> <span class="toc-text">6-11、重载运算符建议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-12%E3%80%81%E5%B0%81%E8%A3%85string%E7%B1%BB"><span class="toc-number">6.11.</span> <span class="toc-text">6-12、封装string类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-13%E3%80%81%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">6.12.</span> <span class="toc-text">6-13、优先级</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7%E3%80%81%E7%BB%A7%E6%89%BF"><span class="toc-number">7.</span> <span class="toc-text">7、继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E3%80%81%E7%BB%A7%E6%89%BF%E6%A6%82%E5%BF%B5"><span class="toc-number">7.0.1.</span> <span class="toc-text">7-1、继承概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E7%BB%A7%E6%89%BF%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E7%BB%A7%E6%89%BF"><span class="toc-number">7.0.2.</span> <span class="toc-text">7-1-1、为什么需要继承为什么需要继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-2%E3%80%81%E7%BB%A7%E6%89%BF%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">7.0.3.</span> <span class="toc-text">7-1-2、继承的好处</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E3%80%81%E7%BB%A7%E6%89%BF%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.4.</span> <span class="toc-text">7-2、继承方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-1%E3%80%81%E6%B4%BE%E7%94%9F%E7%B1%BB%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="toc-number">7.0.5.</span> <span class="toc-text">7-2-1、派生类访问权限控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3%E3%80%81%E7%BB%A7%E6%89%BF%E4%B8%AD%E7%9A%84%E6%9E%90%E6%9E%84%E5%92%8C%E6%9E%84%E9%80%A0"><span class="toc-number">7.1.</span> <span class="toc-text">7-3、继承中的析构和构造</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-1%E3%80%81%E7%BB%A7%E6%89%BF%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.1.1.</span> <span class="toc-text">7-3-1、继承中的对象模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-2%E3%80%81%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84%E7%9A%84%E8%B0%83%E7%94%A8%E5%8E%9F%E5%88%99"><span class="toc-number">7.1.2.</span> <span class="toc-text">7-3-2、对象构造和析构的调用原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-3%E3%80%81%E7%BB%A7%E6%89%BF%E4%B8%AD%E5%90%8C%E5%90%8D%E6%88%90%E5%91%98%E7%9A%84%E5%A4%84%E7%90%86%E9%97%AE%E9%A2%98"><span class="toc-number">7.1.3.</span> <span class="toc-text">7-3-3、继承中同名成员的处理问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-4%E3%80%81%E9%9D%9E%E8%87%AA%E5%8A%A8%E7%BB%A7%E6%89%BF%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">7.1.4.</span> <span class="toc-text">7-3-4、非自动继承的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-5%E3%80%81%E7%BB%A7%E6%89%BF%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E7%89%B9%E6%80%A7"><span class="toc-number">7.1.5.</span> <span class="toc-text">7-3-5、继承中的静态成员特性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4%E3%80%81%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">7.2.</span> <span class="toc-text">7-4、多继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-1%E3%80%81%E5%A4%9A%E7%BB%A7%E6%89%BF%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">7.2.1.</span> <span class="toc-text">7-4-1、多继承的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-2%E3%80%81%E8%8F%B1%E5%BD%A2%E7%BB%A7%E6%89%BF%E5%92%8C%E8%99%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">7.2.2.</span> <span class="toc-text">7-4-2、菱形继承和虚继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-3%E3%80%81%E8%99%9A%E7%BB%A7%E6%89%BF%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">7.2.3.</span> <span class="toc-text">7-4-3、虚继承的实现原理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E3%80%81%E5%A4%9A%E6%80%81"><span class="toc-number">8.</span> <span class="toc-text">8、多态</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1%E3%80%81%E5%A4%9A%E6%80%81%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">8.1.</span> <span class="toc-text">8-1、多态的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2%E3%80%81%E5%A4%9A%E6%80%81%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E5%99%A8%E7%9A%84%E6%A1%88%E4%BE%8B"><span class="toc-number">8.2.</span> <span class="toc-text">8-2、多态实现计算器的案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3%E3%80%81-c-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A"><span class="toc-number">8.2.1.</span> <span class="toc-text">8-3、 c++如何实现动态绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4%E3%80%81%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">8.2.2.</span> <span class="toc-text">8-4、纯虚函数和抽象类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5%E3%80%81%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E5%92%8C%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">8.2.3.</span> <span class="toc-text">8-5、纯虚函数和多继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6%E3%80%81%E8%99%9A%E6%9E%90%E6%9E%84"><span class="toc-number">8.2.4.</span> <span class="toc-text">8-6、虚析构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7%E3%80%81%E7%BA%AF%E8%99%9A%E6%9E%90%E6%9E%84"><span class="toc-number">8.2.5.</span> <span class="toc-text">8-7、纯虚析构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8%E3%80%81%E9%87%8D%E8%BD%BD-%E9%87%8D%E5%AE%9A%E4%B9%89-%E9%87%8D%E5%86%99"><span class="toc-number">8.2.6.</span> <span class="toc-text">8-8、重载 重定义 重写</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%A8%A1%E6%9D%BF"><span class="toc-number">9.</span> <span class="toc-text">第九章 模板</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1%E3%80%81%E6%A8%A1%E6%9D%BF%E7%9A%84%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">9.1.</span> <span class="toc-text">9-1、模板的简单介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2%E3%80%81%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="toc-number">9.2.</span> <span class="toc-text">9-2、函数模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="toc-number">9.2.1.</span> <span class="toc-text">9-2-1、什么是函数模板</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E3%80%81%E6%A8%A1%E6%9D%BF"><span class="toc-number">10.</span> <span class="toc-text">10 、模板</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1%E3%80%81%E6%A8%A1%E6%9D%BF%E7%9A%84%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">10.1.</span> <span class="toc-text">10-1、模板的简单介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2%E3%80%81%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="toc-number">10.2.</span> <span class="toc-text">10-2、函数模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="toc-number">10.2.1.</span> <span class="toc-text">10-2-1、什么是函数模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-2%E3%80%81%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%BB%83%E4%B9%A0"><span class="toc-number">10.2.2.</span> <span class="toc-text">10-2-2、函数模板练习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-3%E3%80%81%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E5%8C%BA%E5%88%AB"><span class="toc-number">10.2.3.</span> <span class="toc-text">10-2-3、函数模板区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-4%E3%80%81%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E5%92%8C%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%9C%A8%E4%B8%80%E8%B5%B7%E7%9A%84%E8%B0%83%E7%94%A8%E8%A7%84%E5%88%99"><span class="toc-number">10.2.4.</span> <span class="toc-text">10-2-4、函数模板和普通函数在一起的调用规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-5%E3%80%81%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E6%9C%AC%E8%B4%A8"><span class="toc-number">10.2.5.</span> <span class="toc-text">10-2-5、编译过程和函数模板本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-6%E3%80%81%E6%A8%A1%E6%9D%BF%E5%85%B7%E4%BD%93%E5%8C%96"><span class="toc-number">10.2.6.</span> <span class="toc-text">10-2-6、模板具体化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-7%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="toc-number">10.2.7.</span> <span class="toc-text">10-2-7、类模板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-1%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">10.2.7.1.</span> <span class="toc-text">10-2-7-1、类模板的实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-2%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">10.2.7.2.</span> <span class="toc-text">10-2-7-2、类模板作为函数参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-3%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E9%81%87%E5%88%B0%E7%BB%A7%E6%89%BF"><span class="toc-number">10.2.7.3.</span> <span class="toc-text">10-2-7-3、类模板遇到继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-4%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%B1%BB%E5%86%85%E5%AE%9E%E7%8E%B0"><span class="toc-number">10.2.7.4.</span> <span class="toc-text">10-2-7-4、类模板的成员函数类内实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-5%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%B1%BB%E5%A4%96%E5%AE%9E%E7%8E%B0"><span class="toc-number">10.2.7.5.</span> <span class="toc-text">10-2-7-5、类模板的成员函数类外实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-6%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%9B%E5%BB%BA%E6%97%B6%E6%9C%BA"><span class="toc-number">10.2.7.6.</span> <span class="toc-text">10-2-7-6、类模板成员函数的创建时机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-7%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%88%86%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98"><span class="toc-number">10.2.7.7.</span> <span class="toc-text">10-2-7-7、类模板的分文件问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-7-8%E3%80%81%E7%B1%BB%E6%A8%A1%E6%9D%BF%E9%81%87%E5%88%B0%E5%8F%8B%E5%85%83"><span class="toc-number">10.2.7.8.</span> <span class="toc-text">10-2-7-8、类模板遇到友元</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11%E3%80%81c-%E8%BD%AC%E6%8D%A2"><span class="toc-number">11.</span> <span class="toc-text">11、c++转换</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-1%E3%80%81%E5%8A%A8%E6%80%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">11.1.</span> <span class="toc-text">11-1、动态转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-2%E3%80%81%E5%B8%B8%E9%87%8F%E8%BD%AC%E6%8D%A2"><span class="toc-number">11.2.</span> <span class="toc-text">11-2、常量转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-3%E3%80%81%E9%87%8D%E6%96%B0%E8%A7%A3%E9%87%8A%E8%BD%AC%E6%8D%A2"><span class="toc-number">11.3.</span> <span class="toc-text">11-3、重新解释转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-4%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-number">11.4.</span> <span class="toc-text">11-4、总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12%E3%80%81%E5%BC%82%E5%B8%B8"><span class="toc-number">12.</span> <span class="toc-text">12、异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1%E3%80%81c-%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="toc-number">12.1.</span> <span class="toc-text">12-1、c++处理异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2%E3%80%81%E5%BC%82%E5%B8%B8%E4%B8%A5%E6%A0%BC%E7%B1%BB%E5%9E%8B%E5%8C%B9%E9%85%8D"><span class="toc-number">12.2.</span> <span class="toc-text">12-2、异常严格类型匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-3%E3%80%81%E6%A0%88%E8%A7%A3%E6%97%8B"><span class="toc-number">12.3.</span> <span class="toc-text">12-3、栈解旋</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-4%E3%80%81%E5%BC%82%E5%B8%B8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">12.4.</span> <span class="toc-text">12-4、异常接口的声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-5%E3%80%81%E5%BC%82%E5%B8%B8%E5%8F%98%E9%87%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">12.5.</span> <span class="toc-text">12-5、异常变量生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-6%E3%80%81%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%9A%E6%80%81%E4%BD%BF%E7%94%A8"><span class="toc-number">12.6.</span> <span class="toc-text">12-6、异常的多态使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-7%E3%80%81c-%E7%9A%84%E5%BC%82%E5%B8%B8%E5%BA%93"><span class="toc-number">12.7.</span> <span class="toc-text">12-7、c++的异常库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13%E3%80%81STL%E6%A8%A1%E6%9D%BF"><span class="toc-number">13.</span> <span class="toc-text">13、STL模板</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#13-1%E3%80%81%E5%AE%B9%E5%99%A8map"><span class="toc-number">13.1.</span> <span class="toc-text">13-1、容器map</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/c1179e11.html" title="rootfs移植"><img src="/img/3_%E9%A9%B1%E5%8A%A8%E3%80%81bootleader%E3%80%81%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/mx6ull/%E5%B0%81%E9%9D%A2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rootfs移植"/></a><div class="content"><a class="title" href="/posts/c1179e11.html" title="rootfs移植">rootfs移植</a><time datetime="2025-07-06T15:30:24.665Z" title="发表于 2025-07-06 23:30:24">2025-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f85e2006.html" title="程序是怎么跑起来的"><img src="/img/0_%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/%E7%A8%8B%E5%BA%8F%E6%98%AF%E6%80%8E%E4%B9%88%E8%B7%91%E8%B5%B7%E6%9D%A5%E7%9A%84/%E5%B0%81%E9%9D%A2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="程序是怎么跑起来的"/></a><div class="content"><a class="title" href="/posts/f85e2006.html" title="程序是怎么跑起来的">程序是怎么跑起来的</a><time datetime="2025-07-03T16:47:58.050Z" title="发表于 2025-07-04 00:47:58">2025-07-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/0.html" title="无题">无题</a><time datetime="2025-07-02T21:47:56.079Z" title="发表于 2025-07-03 05:47:56">2025-07-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f2e2a688.html" title="音视频原理入门"><img src="/img/5_%E9%9F%B3%E8%A7%86%E9%A2%91%E5%8D%8F%E8%AE%AE/ffmpeg/%E5%B0%81%E9%9D%A2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="音视频原理入门"/></a><div class="content"><a class="title" href="/posts/f2e2a688.html" title="音视频原理入门">音视频原理入门</a><time datetime="2025-07-02T21:44:22.579Z" title="发表于 2025-07-03 05:44:22">2025-07-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/96a84f26.html" title="计算机是怎么跑起来的"><img src="/img/0_%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E6%80%8E%E4%B9%88%E8%B7%91%E8%B5%B7%E6%9D%A5%E7%9A%84/%E5%B0%81%E9%9D%A2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机是怎么跑起来的"/></a><div class="content"><a class="title" href="/posts/96a84f26.html" title="计算机是怎么跑起来的">计算机是怎么跑起来的</a><time datetime="2025-07-02T17:42:15.661Z" title="发表于 2025-07-03 01:42:15">2025-07-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By naro-ygc</div><div class="footer_custom_text">未经本人同意不得作于其他用途</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/网络/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 网络 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/驱动、bootleader、文件系统/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 驱动、bootleader、文件系统 (22)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/Linux开发/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 Linux开发 (19)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/问题总结/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 问题总结 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/开发方法/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 开发方法 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/AI-深度学习/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 AI-深度学习 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://naro-ygc.cn/categories/音视频协议/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 音视频协议 (10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://naro-ygc.cn/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>